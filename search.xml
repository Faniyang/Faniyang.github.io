<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Rust â€”â€” æ•°æ®ç±»å‹å’Œå‡½æ•°</title>
      <link href="/2025/09/20/rust-datatype-and-functions/"/>
      <url>/2025/09/20/rust-datatype-and-functions/</url>
      
        <content type="html"><![CDATA[<h2 id="æ•°æ®ç±»å‹ï¼ˆData-Typeï¼‰"><a href="#æ•°æ®ç±»å‹ï¼ˆData-Typeï¼‰" class="headerlink" title="æ•°æ®ç±»å‹ï¼ˆData Typeï¼‰"></a>æ•°æ®ç±»å‹ï¼ˆData Typeï¼‰</h2><p>Rust æ˜¯ä¸€é—¨é™æ€ç¼–è¯‘è¯­è¨€ï¼Œå¿…é¡»åœ¨ç¼–è¯‘æ—¶çŸ¥é“æ‰€æœ‰å˜é‡çš„ç±»å‹ï¼Œæ‰€ä»¥å£°æ˜æ—¶éœ€è¦æ ‡æ³¨æ•°æ®ç±»å‹ã€‚</p><h3 id="1-æ ‡é‡ç±»å‹ï¼ˆScalar-Typeï¼‰"><a href="#1-æ ‡é‡ç±»å‹ï¼ˆScalar-Typeï¼‰" class="headerlink" title="1. æ ‡é‡ç±»å‹ï¼ˆScalar Typeï¼‰"></a>1. æ ‡é‡ç±»å‹ï¼ˆScalar Typeï¼‰</h3><p>Rust æœ‰å››ç§ä¸»è¦æ ‡é‡ç±»å‹ï¼šæ•´æ•°ã€æµ®ç‚¹æ•°ã€å¸ƒå°”å€¼å’Œå­—ç¬¦ã€‚</p><h4 id="1-1-æ•´æ•°ç±»å‹ï¼ˆIntegerï¼‰"><a href="#1-1-æ•´æ•°ç±»å‹ï¼ˆIntegerï¼‰" class="headerlink" title="1.1 æ•´æ•°ç±»å‹ï¼ˆIntegerï¼‰"></a>1.1 æ•´æ•°ç±»å‹ï¼ˆIntegerï¼‰</h4><table><thead><tr><th>Length</th><th>Signed (æœ‰ç¬¦å·ç±»å‹)</th><th>Unsigned (æ— ç¬¦å·ç±»å‹)</th></tr></thead><tbody><tr><td>8-bit</td><td>i8 (-128 to 127)</td><td>u8 (0 to 255)</td></tr><tr><td>16-bit</td><td>i16 (-32,768 to 32,767)</td><td>u16 (0 to 65,535)</td></tr><tr><td>32-bit</td><td>i32 (-2^31 to 2^31-1)</td><td>u32 (0 to 2^32-1)</td></tr><tr><td>64-bit</td><td>i64 (-2^63 to 2^63-1)</td><td>u64 (0 to 2^64-1)</td></tr><tr><td>128-bit</td><td>i128 (-2^127 to 2^127-1)</td><td>u128 (0 to 2^128-1)</td></tr><tr><td>archï¼ˆä¾æ¶æ„è€Œå®šï¼‰</td><td>isize</td><td>usize</td></tr></tbody></table><ul><li><code>isize</code> å’Œ <code>usize</code> çš„å¤§å°å–å†³äºè¿è¡Œç¨‹åºçš„è®¡ç®—æœºæ¶æ„ï¼š<ul><li>64 ä½ç³»ç»Ÿ â†’ 64 ä½</li><li>32 ä½ç³»ç»Ÿ â†’ 32 ä½</li></ul></li></ul><p>âš ï¸ æ³¨æ„ï¼šå¦‚æœå£°æ˜å˜é‡çš„å€¼è¶…è¿‡æ•°æ®ç±»å‹çš„èŒƒå›´ä¼šå¯¼è‡´ <strong>æ•´æ•°æº¢å‡ºï¼ˆInteger Overflowï¼‰</strong>ã€‚</p><h4 id="1-2-æµ®ç‚¹æ•°ç±»å‹ï¼ˆFloating-Point-Typeï¼‰"><a href="#1-2-æµ®ç‚¹æ•°ç±»å‹ï¼ˆFloating-Point-Typeï¼‰" class="headerlink" title="1.2 æµ®ç‚¹æ•°ç±»å‹ï¼ˆFloating-Point Typeï¼‰"></a>1.2 æµ®ç‚¹æ•°ç±»å‹ï¼ˆFloating-Point Typeï¼‰</h4><p>Rust ä¸­æµ®ç‚¹æ•°ç±»å‹æœ‰ä¸¤ç§ï¼š<code>f32</code> å’Œ <code>f64</code>ã€‚é»˜è®¤æ˜¯ <code>f64</code>ã€‚</p><p>åœ¨ç°ä»£ CPU ä¸Šï¼Œ<code>f64</code> çš„é€Ÿåº¦å’Œ <code>f32</code> åŸºæœ¬ç›¸åŒï¼Œä½†ç²¾åº¦æ›´é«˜ã€‚</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">x</span> = <span class="number">2.0</span>;      <span class="comment">// f64</span></span><br><span class="line">    <span class="keyword">let</span> <span class="variable">y</span>: <span class="type">f32</span> = <span class="number">3.0</span>; <span class="comment">// f32</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="1-3-å¸ƒå°”ç±»å‹ï¼ˆBoolean-Typeï¼‰"><a href="#1-3-å¸ƒå°”ç±»å‹ï¼ˆBoolean-Typeï¼‰" class="headerlink" title="1.3 å¸ƒå°”ç±»å‹ï¼ˆBoolean Typeï¼‰"></a>1.3 å¸ƒå°”ç±»å‹ï¼ˆBoolean Typeï¼‰</h4><p>å¸ƒå°”å€¼æœ‰ä¸¤ä¸ªå¯èƒ½çš„å€¼ï¼š<code>true</code> å’Œ <code>false</code>ï¼Œå¤§å°ä¸º 1 ä¸ªå­—èŠ‚ã€‚</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">t</span> = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">f</span>: <span class="type">bool</span> = <span class="literal">false</span>; <span class="comment">// æ˜¾å¼ç±»å‹æ ‡æ³¨</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> f &#123;</span><br><span class="line">        <span class="built_in">println!</span>(<span class="string">&quot;å°±è¿™æ ·å§&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="1-4-å­—ç¬¦ç±»å‹ï¼ˆChar-Typeï¼‰"><a href="#1-4-å­—ç¬¦ç±»å‹ï¼ˆChar-Typeï¼‰" class="headerlink" title="1.4 å­—ç¬¦ç±»å‹ï¼ˆChar Typeï¼‰"></a>1.4 å­—ç¬¦ç±»å‹ï¼ˆChar Typeï¼‰</h4><ul><li>Rust ä¸­ç”¨ <code>&#39;&#39;</code> æ¥æŒ‡å®š <code>char</code> ç±»å‹çš„å­—ç¬¦</li><li>ç”¨ <code>&quot;&quot;</code> æ¥æŒ‡å®šå­—ç¬¦ä¸² <code>string</code></li><li><code>char</code> å ç”¨ <strong>4 ä¸ªå­—èŠ‚</strong></li></ul><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">c</span> = <span class="string">&#x27;z&#x27;</span>;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">z</span>: <span class="type">char</span> = <span class="string">&#x27;â„¤&#x27;</span>;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">heart_eyed_cat</span> = <span class="string">&#x27;ğŸ˜»&#x27;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h3 id="2-å¤åˆç±»å‹ï¼ˆCompound-Typeï¼‰"><a href="#2-å¤åˆç±»å‹ï¼ˆCompound-Typeï¼‰" class="headerlink" title="2. å¤åˆç±»å‹ï¼ˆCompound Typeï¼‰"></a>2. å¤åˆç±»å‹ï¼ˆCompound Typeï¼‰</h3><p>Rust æœ‰ä¸¤ç§å¤åˆç±»å‹ï¼š<strong>å…ƒç»„ï¼ˆTupleï¼‰</strong> å’Œ <strong>æ•°ç»„ï¼ˆArrayï¼‰</strong>ã€‚</p><h4 id="2-1-å…ƒç»„ï¼ˆTuple-Typeï¼‰"><a href="#2-1-å…ƒç»„ï¼ˆTuple-Typeï¼‰" class="headerlink" title="2.1 å…ƒç»„ï¼ˆTuple Typeï¼‰"></a>2.1 å…ƒç»„ï¼ˆTuple Typeï¼‰</h4><ul><li>å…ƒç»„å¯ä»¥å­˜æ”¾ä¸åŒç±»å‹çš„å€¼</li><li>é•¿åº¦å›ºå®šï¼Œå£°æ˜åä¸å¯æ”¹å˜</li></ul><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">tup</span>: (<span class="type">i32</span>, <span class="type">f64</span>, <span class="type">u8</span>) = (<span class="number">500</span>, <span class="number">6.4</span>, <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è·å–å…ƒç»„çš„å€¼æœ‰ä¸¤ç§æ–¹å¼ï¼š</p><ul><li><p><strong>è§£æ„ï¼ˆDestructuringï¼‰</strong></p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">tup</span>: (<span class="type">i32</span>, <span class="type">f64</span>, <span class="type">u8</span>) = (<span class="number">500</span>, <span class="number">6.4</span>, <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">let</span> (x, y, z) = tup;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;The value of x is: &#123;x&#125;&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>ç´¢å¼•ï¼ˆIndexï¼‰</strong></p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">tup</span>: (<span class="type">i32</span>, <span class="type">f64</span>, <span class="type">u8</span>) = (<span class="number">500</span>, <span class="number">6.4</span>, <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">x</span> = tup.<span class="number">0</span>;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;The value of x is: &#123;x&#125;&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p>âš ï¸ æ²¡æœ‰ä»»ä½•å€¼çš„å…ƒç»„å« <strong>unit ç±»å‹</strong>ï¼Œå†™ä½œ <code>()</code>ã€‚</p><hr><h4 id="2-2-æ•°ç»„ï¼ˆArray-Typeï¼‰"><a href="#2-2-æ•°ç»„ï¼ˆArray-Typeï¼‰" class="headerlink" title="2.2 æ•°ç»„ï¼ˆArray Typeï¼‰"></a>2.2 æ•°ç»„ï¼ˆArray Typeï¼‰</h4><ul><li>æ‰€æœ‰å…ƒç´ å¿…é¡»æ˜¯ç›¸åŒç±»å‹</li><li>é•¿åº¦å›ºå®šï¼Œå­˜æ”¾åœ¨ <strong>æ ˆ</strong> ä¸Š</li></ul><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">a</span> = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Rust ä¸­çš„æ•°ç»„å…·æœ‰å›ºå®šé•¿åº¦ï¼Œè¿™ç‚¹ä¸å…¶å®ƒè¯­è¨€ä¸åŒï¼Œå…¶å®ƒç¼–ç¨‹è¯­è¨€ä¸­æ•°ç»„æ˜¯å¯å˜é•¿åº¦ï¼Œä¸ Rust ä¸­çš„ vector ç±»ä¼¼ã€‚å½“ä½ æƒ³å°†æ•°æ®åˆ†é…åœ¨æ ˆä¸Šè€Œä¸æ˜¯å †æˆ–è€…ä½ æƒ³ç¡®ä¿å§‹ç»ˆæœ‰å›ºå®šæ•°é‡çš„å…ƒç´ æ—¶ï¼Œæ•°ç»„éå¸¸æœ‰ç”¨ï¼Œæ¯”å¦‚ä¸€å¹´çš„æœˆæ•°æ˜¯å›ºå®šçš„ã€‚</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">months</span> = [</span><br><span class="line">    <span class="string">&quot;January&quot;</span>, <span class="string">&quot;February&quot;</span>, <span class="string">&quot;March&quot;</span>, <span class="string">&quot;April&quot;</span>, <span class="string">&quot;May&quot;</span>, <span class="string">&quot;June&quot;</span>,</span><br><span class="line">    <span class="string">&quot;July&quot;</span>, <span class="string">&quot;August&quot;</span>, <span class="string">&quot;September&quot;</span>, <span class="string">&quot;October&quot;</span>, <span class="string">&quot;November&quot;</span>, <span class="string">&quot;December&quot;</span></span><br><span class="line">];</span><br></pre></td></tr></table></figure><p>æŒ‡å®šæ•°ç»„ç±»å‹ä¸é•¿åº¦ï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">a</span>: [<span class="type">i32</span>; <span class="number">5</span>] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br></pre></td></tr></table></figure><p>æŒ‡å®šåˆå§‹å€¼å’Œé•¿åº¦ï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">a</span> = [<span class="number">3</span>; <span class="number">5</span>]; <span class="comment">// ç­‰åŒäº [3, 3, 3, 3, 3]</span></span><br></pre></td></tr></table></figure><p>æ•°ç»„æ˜¯è¿ç»­å­˜æ”¾åœ¨æ ˆä¸Šçš„æœ‰åºç»“æ„ï¼Œå¯ä»¥é€šè¿‡ç´¢å¼•è®¿é—®ã€‚Rust çš„ç´¢å¼•ä¸‹æ ‡ä» <strong>0</strong> å¼€å§‹ã€‚</p><ul><li><p>è®¿é—®æ•°ç»„å…ƒç´ </p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">a</span> = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> <span class="variable">first</span> = a[<span class="number">0</span>];  <span class="comment">// è®¿é—®æ•°ç»„ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ </span></span><br><span class="line">    <span class="keyword">let</span> <span class="variable">second</span> = a[<span class="number">1</span>]; <span class="comment">// è®¿é—®æ•°ç»„ä¸­ç¬¬äºŒä¸ªå…ƒç´ </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>æ•°ç»„ä¸‹æ ‡è¶Šç•Œ</p><p>å¦‚æœä¸‹æ ‡ä¸åœ¨ <code>[0, Length-1]</code> èŒƒå›´å†…ï¼š</p><ul><li>ç¼–è¯‘é˜¶æ®µï¼šç›´æ¥æŠ¥ <strong>panic</strong> è­¦å‘Š</li><li>è¿è¡Œé˜¶æ®µï¼šæ— æ³•æå‰çŸ¥é“è¾“å…¥ï¼Œè¶Šç•Œæ—¶ä¼š <strong>ç«‹å³ç»ˆæ­¢ç¨‹åº</strong>ï¼Œè€Œä¸æ˜¯è®¿é—®æ— æ•ˆå†…å­˜</li></ul></li></ul><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> std::io;</span><br><span class="line"></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">a</span> = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"></span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;Please enter an array index.&quot;</span>);</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">index</span> = <span class="type">String</span>::<span class="title function_ invoke__">new</span>();</span><br><span class="line"></span><br><span class="line">    io::<span class="title function_ invoke__">stdin</span>()</span><br><span class="line">        .<span class="title function_ invoke__">read_line</span>(&amp;<span class="keyword">mut</span> index)</span><br><span class="line">        .<span class="title function_ invoke__">expect</span>(<span class="string">&quot;Failed to read line&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> <span class="variable">index</span>: <span class="type">usize</span> = index.<span class="title function_ invoke__">trim</span>().<span class="title function_ invoke__">parse</span>().<span class="title function_ invoke__">expect</span>(<span class="string">&quot;Index entered was not a number&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> <span class="variable">element</span> = a[index];</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;The value of the element at index &#123;index&#125; is: &#123;element&#125;&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>âš ï¸ Rust çš„å®‰å…¨ç‰¹æ€§ï¼š<strong>é‡åˆ°è¶Šç•Œç«‹åˆ»é€€å‡º</strong>ï¼Œé¿å…æ— æ•ˆå†…å­˜è®¿é—®ã€‚</p><hr><h2 id="å‡½æ•°ï¼ˆFunctionï¼‰"><a href="#å‡½æ•°ï¼ˆFunctionï¼‰" class="headerlink" title="å‡½æ•°ï¼ˆFunctionï¼‰"></a>å‡½æ•°ï¼ˆFunctionï¼‰</h2><p>å‡½æ•°ç”±ä»¥ä¸‹éƒ¨åˆ†æ„æˆï¼š</p><ul><li><code>fn</code> å…³é”®å­—</li><li>å‡½æ•°å <code>add</code></li><li>å‚æ•° <code>x, y</code> å’Œå‚æ•°ç±»å‹ <code>i32</code></li><li>å‡½æ•°ä½“ <code>x + y</code></li><li>è¿”å›å€¼ç±»å‹ <code>i32</code></li></ul><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">x</span> = <span class="title function_ invoke__">add</span>(<span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;The value of x is: &#123;x&#125;&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">add</span>(x: <span class="type">i32</span>, y: <span class="type">i32</span>) <span class="punctuation">-&gt;</span> <span class="type">i32</span> &#123;</span><br><span class="line">    x + y</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h3 id="è¯­å¥ä¸è¡¨è¾¾å¼"><a href="#è¯­å¥ä¸è¡¨è¾¾å¼" class="headerlink" title="è¯­å¥ä¸è¡¨è¾¾å¼"></a>è¯­å¥ä¸è¡¨è¾¾å¼</h3><ul><li><p><strong>è¯­å¥ï¼ˆStatementsï¼‰</strong>ï¼šæ‰§è¡Œæ“ä½œï¼Œä½†ä¸è¿”å›å€¼</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="comment">// âŒ é”™è¯¯å†™æ³•</span></span><br><span class="line">    <span class="comment">// å› ä¸º let y = 6 æ˜¯è¯­å¥ï¼Œæ²¡æœ‰è¿”å›å€¼</span></span><br><span class="line">    <span class="comment">// è¿™æ˜¯ Rust çš„ä¸€ä¸ªç‰¹æ€§ï¼Œå¦‚æœæ˜¯ C æˆ– Rubyï¼Œèµ‹å€¼æ“ä½œä¼šè¿”å›è¢«èµ‹çš„å€¼ 6</span></span><br><span class="line">    <span class="keyword">let</span> <span class="variable">x</span> = (<span class="keyword">let</span> <span class="variable">y</span> = <span class="number">6</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>è¡¨è¾¾å¼ï¼ˆExpressionï¼‰</strong>ï¼šè®¡ç®—å¹¶è¿”å›å€¼</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">y</span> = &#123;</span><br><span class="line">        <span class="keyword">let</span> <span class="variable">x</span> = <span class="number">3</span>;</span><br><span class="line">        x + <span class="number">1</span>   <span class="comment">// æ²¡æœ‰åˆ†å·ï¼Œè¡¨ç¤ºè¡¨è¾¾å¼</span></span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;The value of y is: &#123;y&#125;&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Rust </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Rust â€”â€” å˜é‡å’Œå¯å˜æ€§</title>
      <link href="/2025/09/19/rust-variables-and-mutability/"/>
      <url>/2025/09/19/rust-variables-and-mutability/</url>
      
        <content type="html"><![CDATA[<h2 id="1-å¯å˜ä¸ä¸å¯å˜å˜é‡"><a href="#1-å¯å˜ä¸ä¸å¯å˜å˜é‡" class="headerlink" title="1. å¯å˜ä¸ä¸å¯å˜å˜é‡"></a>1. å¯å˜ä¸ä¸å¯å˜å˜é‡</h2><ul><li><strong>ä¸å¯å˜å˜é‡ï¼ˆImmutableï¼‰</strong>ï¼šRust ä¸­å˜é‡é»˜è®¤ä¸å¯å˜ï¼Œä¸€æ—¦ç»‘å®šåå€¼ä¸èƒ½æ”¹å˜ã€‚</li><li><strong>å¯å˜å˜é‡ï¼ˆMutableï¼‰</strong>ï¼šä½¿ç”¨ <code>mut</code> å…³é”®å­—ï¼Œå¯ä»¥è®©å˜é‡çš„å€¼åœ¨ç»‘å®šåå‘ç”Ÿæ”¹å˜ã€‚</li></ul><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¯å˜å˜é‡</span></span><br><span class="line"><span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">x</span> = <span class="number">5</span>;</span><br><span class="line">x = <span class="number">6</span>; <span class="comment">// âœ… å¯ä»¥ä¿®æ”¹</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸å¯å˜å˜é‡</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">y</span> = <span class="number">10</span>;</span><br><span class="line"><span class="comment">// y = 11; // âŒ é”™è¯¯ï¼šä¸å¯ä¿®æ”¹</span></span><br></pre></td></tr></table></figure><h2 id="2-å¸¸é‡ï¼ˆConstantsï¼‰"><a href="#2-å¸¸é‡ï¼ˆConstantsï¼‰" class="headerlink" title="2. å¸¸é‡ï¼ˆConstantsï¼‰"></a>2. å¸¸é‡ï¼ˆConstantsï¼‰</h2><ul><li>ä½¿ç”¨ <code>const</code> å…³é”®å­—å£°æ˜ï¼Œå§‹ç»ˆä¸å¯å˜</li><li>å¸¸é‡åå…¨éƒ¨å¤§å†™ï¼Œå•è¯ä¹‹é—´ç”¨ä¸‹åˆ’çº¿åˆ†éš”</li><li>å¸¸é‡å¿…é¡»åœ¨ç¼–è¯‘æœŸå·²çŸ¥ï¼Œå¹¶ä¸”ç±»å‹å¿…é¡»æ˜¾å¼æ ‡æ³¨</li><li>ä¸å˜é‡ä¸åŒï¼Œå¸¸é‡ä¸èƒ½ç”¨ <code>mut</code> å£°æ˜</li><li>å¸¸é‡å¯ä»¥åœ¨ä»»æ„ä½œç”¨åŸŸå®šä¹‰ï¼ŒåŒ…æ‹¬å…¨å±€ä½œç”¨åŸŸ</li></ul><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¸¸é‡å®šä¹‰</span></span><br><span class="line"><span class="keyword">const</span> THREE_HOURS_IN_SECONDS: <span class="type">u32</span> = <span class="number">60</span> * <span class="number">60</span> * <span class="number">3</span>;</span><br></pre></td></tr></table></figure><h2 id="3-é®è”½ï¼ˆShadowingï¼‰"><a href="#3-é®è”½ï¼ˆShadowingï¼‰" class="headerlink" title="3. é®è”½ï¼ˆShadowingï¼‰"></a>3. é®è”½ï¼ˆShadowingï¼‰</h2><p>ä½¿ç”¨ <code>let</code> é‡å¤å£°æ˜åŒåå˜é‡æ—¶ï¼Œæ–°å˜é‡ä¼š <strong>é®è”½</strong> æ—§å˜é‡ã€‚</p><ul><li><strong>åœ¨åŒä¸€ä½œç”¨åŸŸå†…</strong>ï¼šæ—§ç»‘å®šè¢«å®Œå…¨éšè—ï¼Œæ— æ³•è®¿é—®</li><li><strong>è·¨ä½œç”¨åŸŸæ—¶</strong>ï¼šå†…å±‚é®è”½å¤–å±‚ï¼Œå†…å±‚ä½œç”¨åŸŸç»“æŸåå¤–å±‚ç»‘å®šé‡æ–°å¯è§</li></ul><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">x</span> = <span class="number">5</span>;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">x</span> = x + <span class="number">1</span>;  <span class="comment">// æ–°çš„ x é®è”½æ—§çš„ x=5</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">let</span> <span class="variable">x</span> = x * <span class="number">2</span>;  <span class="comment">// ä»…åœ¨å½“å‰ä½œç”¨åŸŸç”Ÿæ•ˆï¼Œä¸ä¼šé®è”½å‰é¢çš„x = x + 1</span></span><br><span class="line">        <span class="built_in">println!</span>(<span class="string">&quot;The value of x in the inner scope is: &#123;x&#125;&quot;</span>);<span class="comment">// è¾“å‡º 12</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;The value of x is: &#123;x&#125;&quot;</span>);<span class="comment">// è¾“å‡º 6</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ä¸ <code>mut</code> çš„åŒºåˆ«<ul><li><strong><code>mut</code></strong>ï¼šä¿®æ”¹åŒä¸€ä¸ªå˜é‡çš„å€¼ã€‚</li><li><strong>é®è”½</strong>ï¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å˜é‡ç»‘å®šï¼Œæ—§çš„ç»‘å®šè¢«éšè—ï¼Œè€Œä¸”å¯ä»¥æ”¹å˜ç±»å‹ã€‚</li></ul></li></ul><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨ mutï¼šé”™è¯¯</span></span><br><span class="line"><span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">spaces</span> = <span class="string">&quot;   &quot;</span>;</span><br><span class="line"><span class="comment">// spaces = spaces.len(); // âŒ ç±»å‹ä¸åŒ¹é…ï¼Œ&amp;str ä¸èƒ½èµ‹å€¼ä¸º usize</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨é®è”½ï¼šæ­£ç¡®</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">spaces</span> = <span class="string">&quot;   &quot;</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">spaces</span> = spaces.<span class="title function_ invoke__">len</span>(); <span class="comment">// âœ… ç±»å‹ä» &amp;str â†’ usize</span></span><br></pre></td></tr></table></figure><p><strong>Hoorayï¼å˜é‡å’Œå¯å˜æ€§å°èŠ‚å®Œæˆï¼ï¼ï¼</strong></p>]]></content>
      
      
      
        <tags>
            
            <tag> Rust </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Rust â€”â€” Hello, World!</title>
      <link href="/2025/09/18/rust-hello-world/"/>
      <url>/2025/09/18/rust-hello-world/</url>
      
        <content type="html"><![CDATA[<h2 id="Hello-World"><a href="#Hello-World" class="headerlink" title="Hello World!"></a>Hello World!</h2><p><strong>Rust</strong>æ˜¯ä¸€é—¨é™æ€ç¼–è¯‘çš„è¯­è¨€ï¼Œå¼ºè°ƒ<strong>æ€§èƒ½</strong>ã€<strong>ç±»å‹å®‰å…¨</strong>ã€<strong>å¹¶å‘æ€§</strong>ã€‚</p><h2 id="1-å®‰è£…-Rust"><a href="#1-å®‰è£…-Rust" class="headerlink" title="1. å®‰è£… Rust"></a>1. å®‰è£… Rust</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Rust å®‰è£…</span></span><br><span class="line">curl --proto <span class="string">&#x27;=https&#x27;</span> --tlsv1.2 -sSf https://sh.rustup.rs | sh</span><br><span class="line"></span><br><span class="line"><span class="comment"># åŠ è½½ç¯å¢ƒå˜é‡</span></span><br><span class="line">. <span class="string">&quot;<span class="variable">$HOME</span>/.cargo/env&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># éªŒè¯å®‰è£…</span></span><br><span class="line">rustc --version</span><br></pre></td></tr></table></figure><p><strong>å…¶ä»–å¸¸ç”¨å‘½ä»¤</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Rust æ›´æ–°</span></span><br><span class="line">rustup update</span><br><span class="line"></span><br><span class="line"><span class="comment"># Rust å¸è½½</span></span><br><span class="line">rustup self uninstall</span><br><span class="line"></span><br><span class="line"><span class="comment"># Rust ç¦»çº¿æ–‡æ¡£</span></span><br><span class="line">rustup doc</span><br></pre></td></tr></table></figure><h2 id="2-VS-Code-æ’ä»¶æ‹“å±•"><a href="#2-VS-Code-æ’ä»¶æ‹“å±•" class="headerlink" title="2. VS Code æ’ä»¶æ‹“å±•"></a>2. VS Code æ’ä»¶æ‹“å±•</h2><ul><li><strong>rust-analyzer</strong> â€”â€” ä»£ç è¡¥å…¨ä¸åˆ†æ</li><li><strong>Dependi</strong> â€”â€” Cargo.toml ä¾èµ–ç®¡ç†åŠ©æ‰‹</li><li><strong>Even Better TOML</strong> â€”â€” TOML é«˜äº®ä¸æ ¡éªŒ</li><li><strong>CodeLLDB</strong> â€”â€” Rust Debugger</li></ul><h2 id="3-Helloï¼ŒWorld"><a href="#3-Helloï¼ŒWorld" class="headerlink" title="3. Helloï¼ŒWorld"></a>3. Helloï¼ŒWorld</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»ºé¡¹ç›®ç›®å½•</span></span><br><span class="line"><span class="built_in">mkdir</span> hello_world</span><br><span class="line"><span class="built_in">cd</span> hello_world/</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ–°å»º main.rs</span></span><br><span class="line"><span class="built_in">cat</span> &gt; ./main.rs &lt;&lt; <span class="string">&#x27;EOF&#x27;</span></span><br><span class="line">fn <span class="function"><span class="title">main</span></span>() &#123;</span><br><span class="line">    println!(<span class="string">&quot;Hello, world!&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">EOF</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç¼–è¯‘</span></span><br><span class="line">rustc main.rs</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰§è¡Œ</span></span><br><span class="line">./main</span><br></pre></td></tr></table></figure><p><strong>æ‰§è¡Œå Hello, world! å­—ç¬¦ä¸²åº”æ‰“å°åˆ°ç»ˆç«¯</strong><br><img src="/images/Rust/hello-world.png"></p><h3 id="Troubleshooting"><a href="#Troubleshooting" class="headerlink" title="Troubleshooting"></a>Troubleshooting</h3><p>ç¼–è¯‘æ—¶æŠ¥é”™ <code>linker &#39;cc&#39; not found</code>ï¼Œè¯´æ˜ç³»ç»Ÿç¼ºå°‘ç¼–è¯‘å·¥å…·ï¼Œå®‰è£…å³å¯ï¼š</p><p><img src="/images/Rust/linker-cc-err.png"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ›´æ–°è½¯ä»¶åŒ…ç´¢å¼•</span></span><br><span class="line"><span class="built_in">sudo</span> apt update</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£…æ„å»ºå·¥å…·</span></span><br><span class="line"><span class="built_in">sudo</span> apt install build-essential -y</span><br></pre></td></tr></table></figure><h2 id="4-Hello-Cargo"><a href="#4-Hello-Cargo" class="headerlink" title="4. Hello, Cargo"></a>4. Hello, Cargo</h2><p><strong>Cargo</strong> æ˜¯ Rust çš„å®˜æ–¹æ„å»ºå·¥å…·å’ŒåŒ…ç®¡ç†å™¨ï¼Œæä¾› <strong>é¡¹ç›®ç®¡ç†ã€ä¾èµ–ç®¡ç†ã€ç¼–è¯‘ã€æµ‹è¯•</strong> ç­‰åŠŸèƒ½ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆå§‹åŒ–é¡¹ç›®</span></span><br><span class="line">cargo new hello_cargo</span><br><span class="line"><span class="built_in">cd</span> hello_cargo</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¼–è¾‘ src/main.rs</span></span><br><span class="line"><span class="built_in">cat</span> &gt; ./src/main.rs &lt;&lt; <span class="string">&#x27;EOF&#x27;</span></span><br><span class="line">fn <span class="function"><span class="title">main</span></span>() &#123;</span><br><span class="line">    println!(<span class="string">&quot;Hello, cargo!&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ„å»ºå¹¶è¿è¡Œï¼ˆç­‰ä»·äº cargo build + æ‰§è¡Œï¼‰</span></span><br><span class="line">cargo run</span><br></pre></td></tr></table></figure><p><strong>å…¶ä»–å¸¸ç”¨å‘½ä»¤</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Debug æ„å»º</span></span><br><span class="line">cargo build</span><br><span class="line"></span><br><span class="line"><span class="comment"># Release æ„å»º</span></span><br><span class="line">cargo build â€”release</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹ Cargo ç‰ˆæœ¬</span></span><br><span class="line">cargo --version</span><br></pre></td></tr></table></figure><p><strong>Hooray! Rust å­¦ä¹ ä¹‹æ—…ï¼Œæ­£å¼å¯ç¨‹ï¼ï¼ï¼</strong></p>]]></content>
      
      
      
        <tags>
            
            <tag> Rust </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Layer2 â€”â€” Op Stack ç»„ä»¶æ—¥å¿—ç®¡ç†</title>
      <link href="/2025/09/18/log-mgmt-part4/"/>
      <url>/2025/09/18/log-mgmt-part4/</url>
      
        <content type="html"><![CDATA[<h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><p>Layer 2 èŠ‚ç‚¹çš„å„é¡¹ç»„ä»¶ï¼ˆå¦‚ <code>op-geth</code>ã€<code>op-node</code>ã€<code>op-batcher</code>ã€<code>op-proposer</code>ï¼‰åœ¨è¿è¡Œè¿‡ç¨‹ä¸­ä¼šäº§ç”Ÿå¤§é‡æ—¥å¿—æ•°æ®ã€‚å¦‚æœç¼ºä¹æœ‰æ•ˆçš„æ—¥å¿—ç®¡ç†ç­–ç•¥ï¼Œè¿™äº›æ—¥å¿—æ–‡ä»¶ä¼šæŒç»­å¢é•¿ï¼Œæœ€ç»ˆå¯èƒ½å¯¼è‡´ï¼š</p><ul><li><strong>ç£ç›˜ç©ºé—´è€—å°½</strong>ï¼šå½±å“èŠ‚ç‚¹æ­£å¸¸è¿è¡Œï¼Œç”šè‡³å¯¼è‡´æœåŠ¡ä¸­æ–­</li><li><strong>æŸ¥è¯¢æ•ˆç‡ä½ä¸‹</strong>ï¼šå·¨å¤§çš„æ—¥å¿—æ–‡ä»¶éš¾ä»¥è¿›è¡Œå¿«é€Ÿçš„é—®é¢˜å®šä½å’Œåˆ†æ</li><li><strong>ç³»ç»Ÿæ€§èƒ½ä¸‹é™</strong>ï¼šæŒç»­çš„å†™æ“ä½œä¼šå¢åŠ ç£ç›˜ I&#x2F;O å‹åŠ›</li></ul><p>å› æ­¤ï¼Œé€‰æ‹©ä¸€å¥—ç¨³å®šã€é«˜æ•ˆçš„æ—¥å¿—ç®¡ç†æ–¹æ¡ˆè‡³å…³é‡è¦ã€‚</p><h2 id="ä¸€ã€ä¼ ç»Ÿ-Logrotate-ç®¡ç†"><a href="#ä¸€ã€ä¼ ç»Ÿ-Logrotate-ç®¡ç†" class="headerlink" title="ä¸€ã€ä¼ ç»Ÿ Logrotate ç®¡ç†"></a>ä¸€ã€ä¼ ç»Ÿ Logrotate ç®¡ç†</h2><h3 id="1-ä»€ä¹ˆæ˜¯-Logrotateï¼Ÿ"><a href="#1-ä»€ä¹ˆæ˜¯-Logrotateï¼Ÿ" class="headerlink" title="1. ä»€ä¹ˆæ˜¯ Logrotateï¼Ÿ"></a>1. ä»€ä¹ˆæ˜¯ Logrotateï¼Ÿ</h3><p><code>logrotate</code> æ˜¯ Linux ç³»ç»Ÿçš„ç»å…¸æ—¥å¿—ç®¡ç†å·¥å…·ï¼Œé€šè¿‡ cron å®šæ—¶ä»»åŠ¡ï¼ˆé€šå¸¸æ¯æ—¥æ‰§è¡Œï¼‰å¯¹æ—¥å¿—æ–‡ä»¶è¿›è¡Œè½®è½¬ã€å‹ç¼©å’Œæ¸…ç†ï¼Œæœ‰æ•ˆæ§åˆ¶æ—¥å¿—æ–‡ä»¶å¤§å°ã€‚</p><h3 id="2-Postrotate-æœåŠ¡é‡å¯æ–¹æ¡ˆ"><a href="#2-Postrotate-æœåŠ¡é‡å¯æ–¹æ¡ˆ" class="headerlink" title="2. Postrotate æœåŠ¡é‡å¯æ–¹æ¡ˆ"></a>2. Postrotate æœåŠ¡é‡å¯æ–¹æ¡ˆ</h3><p>è¿™ç§æ–¹æ¡ˆåœ¨æ—¥å¿—è½®è½¬åé‡å¯ç›¸å…³æœåŠ¡ï¼Œç¡®ä¿æœåŠ¡èƒ½å¤Ÿæ­£ç¡®å¤„ç†æ–°çš„æ—¥å¿—æ–‡ä»¶ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># /etc/logrotate.d/layer2-services</span></span><br><span class="line">/home/eth/optimism/logs/*/*.<span class="built_in">log</span> &#123;</span><br><span class="line">    daily</span><br><span class="line">    rotate 30</span><br><span class="line">    compress</span><br><span class="line">    delaycompress</span><br><span class="line">    missingok</span><br><span class="line">    notifempty</span><br><span class="line">    create 644 root root</span><br><span class="line">    dateext</span><br><span class="line">    dateformat -%Y-%m-%d</span><br><span class="line">    postrotate</span><br><span class="line">        systemctl reload-or-restart op-geth op-node op-batcher op-proposer &gt;/dev/null 2&gt;&amp;1 || <span class="literal">true</span></span><br><span class="line">    endscript</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><strong>ä¼˜ç¼ºç‚¹åˆ†æ</strong><ul><li><strong>ä¼˜ç‚¹</strong>ï¼šç¡®ä¿æ—¥å¿—å®Œæ•´æ€§ï¼Œæ— æ•°æ®ä¸¢å¤±é£é™©</li><li><strong>ç¼ºç‚¹</strong>ï¼šæœåŠ¡é‡å¯ä¼šè§¦å‘åŒºå—é‡æ‰«ï¼Œä¸¥é‡å½±å“åŒæ­¥æ•ˆç‡ï¼Œå¹¶å¯èƒ½å¯¼è‡´æ–°åŒºå—ç”Ÿæˆæ—¶é—´æ»å</li></ul></li></ul><h3 id="3-copytruncate-å¤åˆ¶å¹¶æ¸…ç©º"><a href="#3-copytruncate-å¤åˆ¶å¹¶æ¸…ç©º" class="headerlink" title="3. copytruncate å¤åˆ¶å¹¶æ¸…ç©º"></a>3. copytruncate å¤åˆ¶å¹¶æ¸…ç©º</h3><p>æ­¤æ–¹æ¡ˆé€šè¿‡å¤åˆ¶å½“å‰æ—¥å¿—å†…å®¹åæ¸…ç©ºåŸæ–‡ä»¶çš„æ–¹å¼ï¼ŒæœåŠ¡è¿›ç¨‹æ¯«æ— æ„ŸçŸ¥ï¼Œé¿å…æœåŠ¡é‡å¯ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># /etc/logrotate.d/layer2-services</span></span><br><span class="line">/home/eth/optimism/logs/*/*.<span class="built_in">log</span> &#123;</span><br><span class="line">    daily</span><br><span class="line">    rotate 30</span><br><span class="line">    compress</span><br><span class="line">    delaycompress</span><br><span class="line">    missingok</span><br><span class="line">    notifempty</span><br><span class="line">    dateext</span><br><span class="line">    dateformat -%Y-%m-%d</span><br><span class="line">    copytruncate</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><strong>ä¼˜ç¼ºç‚¹åˆ†æ</strong><ul><li><strong>ä¼˜ç‚¹</strong>ï¼šæ— éœ€æœåŠ¡é‡å¯ï¼Œä¿è¯è¿ç»­æ€§</li><li><strong>ç¼ºç‚¹</strong>ï¼šåœ¨å¤åˆ¶å’Œæˆªæ–­æ“ä½œçš„æ¯«ç§’çº§çª—å£æœŸå†…å¯èƒ½ä¸¢å¤±å°‘é‡æ—¥å¿—ï¼Œå¹¶ä¸”ä¼šäº§ç”Ÿé¢å¤–çš„ç£ç›˜ I&#x2F;O å¼€é”€ã€‚</li></ul></li></ul><h3 id="4-æµ‹è¯•ä¸éªŒè¯"><a href="#4-æµ‹è¯•ä¸éªŒè¯" class="headerlink" title="4. æµ‹è¯•ä¸éªŒè¯"></a>4. æµ‹è¯•ä¸éªŒè¯</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># é¢„è§ˆè½®è½¬æ•ˆæœï¼ˆä¸å®é™…æ‰§è¡Œï¼‰</span></span><br><span class="line"><span class="built_in">sudo</span> logrotate -d /etc/logrotate.d/layer2-services</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¼ºåˆ¶æ‰§è¡Œä¸€æ¬¡è½®è½¬</span></span><br><span class="line"><span class="built_in">sudo</span> logrotate -f /etc/logrotate.d/layer2-services</span><br></pre></td></tr></table></figure><h2 id="äºŒã€ç°ä»£åŒ–-Journald-ç®¡ç†"><a href="#äºŒã€ç°ä»£åŒ–-Journald-ç®¡ç†" class="headerlink" title="äºŒã€ç°ä»£åŒ– Journald ç®¡ç†"></a>äºŒã€ç°ä»£åŒ– Journald ç®¡ç†</h2><h3 id="1-ä»€ä¹ˆæ˜¯-Journald"><a href="#1-ä»€ä¹ˆæ˜¯-Journald" class="headerlink" title="1. ä»€ä¹ˆæ˜¯ Journald"></a>1. ä»€ä¹ˆæ˜¯ Journald</h3><p><code>journald</code> æ˜¯ systemd ç”Ÿæ€çš„åŸç”Ÿæ—¥å¿—ç®¡ç†æœåŠ¡ï¼Œå®ƒå°†æ—¥å¿—ä½œä¸ºç»“æ„åŒ–çš„äº‹ä»¶æµå¤„ç†ï¼Œå¹¶ç”±å…¶è‡ªèº«è´Ÿè´£å­˜å‚¨ã€è½®è½¬å’Œæ¸…ç†ï¼Œå¯ä»¥é¿å…æœåŠ¡ä¸­æ–­å’Œæ•°æ®ä¸¢å¤±ã€‚</p><h3 id="2-è¿ç§»æ­¥éª¤"><a href="#2-è¿ç§»æ­¥éª¤" class="headerlink" title="2. è¿ç§»æ­¥éª¤"></a>2. è¿ç§»æ­¥éª¤</h3><h4 id="2-1-ä¿®æ”¹-Systemd-Service-æ–‡ä»¶"><a href="#2-1-ä¿®æ”¹-Systemd-Service-æ–‡ä»¶" class="headerlink" title="2.1 ä¿®æ”¹ Systemd Service æ–‡ä»¶"></a>2.1 ä¿®æ”¹ Systemd Service æ–‡ä»¶</h4><p>è¿ç§»çš„æ ¸å¿ƒæ˜¯ç§»é™¤å¼ºåˆ¶å°†æ—¥å¿—è¾“å‡ºåˆ°æ–‡ä»¶çš„é…ç½®ï¼Œè®©æ—¥å¿—æµå›å½’ <code>systemd</code> çš„é»˜è®¤é€šé“â€”â€”<code>journald</code>ã€‚</p><p>ä»¥ <strong><code>op-geth.service</code></strong> ä¸ºä¾‹ï¼Œéœ€ç§»é™¤ <code>StandardOutput</code> å’Œ <code>StandardError</code>é…ç½®ã€‚</p><ul><li><strong>éœ€ç§»é™¤çš„é…ç½®</strong>:</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">StandardOutput=append:/home/eth/optimism/logs/op-geth/geth.log</span><br><span class="line">StandardError=append:/home/eth/optimism/logs/op-geth/geth.log</span><br></pre></td></tr></table></figure><ul><li><strong>ä¿®æ”¹åçš„ <code>op-geth.service</code> ç¤ºä¾‹</strong>:</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description=OP-Geth Execution Client</span><br><span class="line">After=network-online.target</span><br><span class="line">Wants=network-online.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">Type=simple</span><br><span class="line">User=root</span><br><span class="line">Group=root</span><br><span class="line"></span><br><span class="line">WorkingDirectory=/home/eth/optimism/scripts</span><br><span class="line">ExecStart=/home/eth/optimism/scripts/op-geth_starter.sh</span><br><span class="line"></span><br><span class="line">Restart=always</span><br><span class="line">RestartSec=10</span><br><span class="line">LimitNOFILE=65536</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure><h4 id="2-2-ç®€åŒ–å¯åŠ¨è„šæœ¬"><a href="#2-2-ç®€åŒ–å¯åŠ¨è„šæœ¬" class="headerlink" title="2.2 ç®€åŒ–å¯åŠ¨è„šæœ¬"></a>2.2 ç®€åŒ–å¯åŠ¨è„šæœ¬</h4><p>ç”±äºä¸å†éœ€è¦ç®¡ç†æ—¥å¿—æ–‡ä»¶ï¼Œå¯ä»¥ç§»é™¤ç›¸å…³çš„ç›®å½•åˆ›å»ºé€»è¾‘ã€‚</p><ul><li><strong>éœ€ç§»é™¤çš„é…ç½®</strong>:</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">LOG_DIR=<span class="string">&quot;/home/eth/optimism/logs/op-geth&quot;</span></span><br><span class="line"><span class="built_in">mkdir</span> -p <span class="variable">$LOG_DIR</span></span><br></pre></td></tr></table></figure><ul><li><strong>ä¿®æ”¹åçš„ <code>op-geth_starter.sh</code> ç¤ºä¾‹:</strong></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Starting Geth node at <span class="subst">$(date)</span>&quot;</span></span><br><span class="line"><span class="built_in">cd</span> /home/eth/optimism/op-geth</span><br><span class="line"></span><br><span class="line"><span class="built_in">source</span> /home/eth/optimism/.envrc</span><br><span class="line"></span><br><span class="line"><span class="built_in">exec</span> ./build/bin/geth \</span><br><span class="line">--datadir ./datadir \</span><br><span class="line">--http \</span><br><span class="line">    --http.corsdomain=<span class="string">&quot;*&quot;</span> \</span><br><span class="line">    --http.vhosts=<span class="string">&quot;*&quot;</span> \</span><br><span class="line">    --http.addr=0.0.0.0 \</span><br><span class="line">    --http.api=web3,debug,eth,txpool,net,engine,miner \</span><br><span class="line">    --ws \</span><br><span class="line">    --ws.addr=0.0.0.0 \</span><br><span class="line">    --ws.port=8546 \</span><br><span class="line">    --ws.origins=<span class="string">&quot;*&quot;</span> \</span><br><span class="line">    --ws.api=debug,eth,txpool,net,engine,miner \</span><br><span class="line">    --syncmode=full \</span><br><span class="line">    --gcmode=archive \</span><br><span class="line">    --nodiscover \</span><br><span class="line">    --maxpeers=0 \</span><br><span class="line">    --networkid=<span class="variable">$L2_CHAIN_ID</span> \</span><br><span class="line">    --authrpc.vhosts=<span class="string">&quot;*&quot;</span> \</span><br><span class="line">    --authrpc.addr=0.0.0.0 \</span><br><span class="line">    --authrpc.port=8551 \</span><br><span class="line">    --authrpc.jwtsecret=./jwt.txt \</span><br><span class="line">    --rollup.disabletxpoolgossip=<span class="literal">true</span></span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„</strong>ï¼šåŒæ ·çš„ä¿®æ”¹éœ€è¦åº”ç”¨åˆ° <code>op-node</code>ã€<code>op-batcher</code>ã€<code>op-proposer</code> ç­‰æ‰€æœ‰ç›¸å…³æœåŠ¡çš„ <code>.service</code> æ–‡ä»¶å’Œå¯åŠ¨è„šæœ¬ä¸­ã€‚</p><h4 id="2-3-æ¸…ç†æ—§é…ç½®å¹¶åº”ç”¨æ›´æ”¹"><a href="#2-3-æ¸…ç†æ—§é…ç½®å¹¶åº”ç”¨æ›´æ”¹" class="headerlink" title="2.3 æ¸…ç†æ—§é…ç½®å¹¶åº”ç”¨æ›´æ”¹"></a>2.3 æ¸…ç†æ—§é…ç½®å¹¶åº”ç”¨æ›´æ”¹</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ é™¤æ—§çš„ logrotate é…ç½®</span></span><br><span class="line"><span class="built_in">sudo</span> <span class="built_in">rm</span> -f /etc/logrotate.d/layer2-services</span><br><span class="line"></span><br><span class="line"><span class="comment"># é‡æ–°åŠ è½½ systemd é…ç½®</span></span><br><span class="line"><span class="built_in">sudo</span> systemctl daemon-reload</span><br><span class="line"></span><br><span class="line"><span class="comment"># é‡å¯æœåŠ¡ä»¥åº”ç”¨æ›´æ”¹</span></span><br><span class="line"><span class="built_in">sudo</span> systemctl restart op-geth op-node op-batcher op-proposer</span><br><span class="line"></span><br><span class="line"><span class="comment"># éªŒè¯æœåŠ¡çŠ¶æ€</span></span><br><span class="line"><span class="built_in">sudo</span> systemctl status op-geth op-node op-batcher op-proposer</span><br></pre></td></tr></table></figure><h4 id="2-4-é…ç½®-Journald-å­˜å‚¨é™åˆ¶"><a href="#2-4-é…ç½®-Journald-å­˜å‚¨é™åˆ¶" class="headerlink" title="2.4 é…ç½® Journald å­˜å‚¨é™åˆ¶"></a>2.4 é…ç½® Journald å­˜å‚¨é™åˆ¶</h4><p>ä¸ºé˜²æ­¢æ—¥å¿—æ— é™å¢é•¿ï¼Œéœ€è¦è®¾ç½®åˆç†çš„å­˜å‚¨ä¸Šé™ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> nano /etc/systemd/journald.conf</span><br></pre></td></tr></table></figure><p>åœ¨ <code>[Journal]</code> éƒ¨åˆ†æ·»åŠ æˆ–ä¿®æ”¹ï¼š</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[Journal]</span></span><br><span class="line"><span class="attr">SystemMaxUse</span>=<span class="number">10</span>G</span><br></pre></td></tr></table></figure><ul><li><strong><code>SystemMaxUse=10G</code></strong>: è®¾ç½® journald å¯ä½¿ç”¨çš„æœ€å¤§ç£ç›˜ç©ºé—´ä¸º 10GBã€‚å¯ä»¥æ ¹æ®æœåŠ¡å™¨ç£ç›˜å¤§å°è°ƒæ•´æ­¤å€¼ï¼ˆå¦‚ <code>5G</code>, <code>20G</code>ï¼‰ã€‚</li></ul><p>ä¿å­˜æ–‡ä»¶åï¼Œé‡å¯ <code>journald</code> æœåŠ¡ä½¿é…ç½®ç”Ÿæ•ˆï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> systemctl restart systemd-journald</span><br></pre></td></tr></table></figure><p>é…ç½®ç”Ÿæ•ˆåï¼Œå½“æ—¥å¿—æ€»é‡å°†è¦è¶…è¿‡è®¾ç½®çš„é˜ˆå€¼æ—¶ï¼Œ<code>journald</code> å°±ä¼šè‡ªåŠ¨ã€é™é»˜åœ°åˆ é™¤æœ€æ—§çš„æ—¥å¿—æ–‡ä»¶ï¼Œä¸ºæ–°æ—¥å¿—è…¾å‡ºç©ºé—´ï¼Œç¡®ä¿æ—¥å¿—å¤§å°å§‹ç»ˆä¿æŒåœ¨é™åˆ¶èŒƒå›´å†…ã€‚</p><p><strong>Hoorayï¼Journald é…ç½®æˆåŠŸï¼ï¼ï¼</strong></p><h2 id="ä¸‰ã€æ—¥å¿—ç®¡ç†å¸¸ç”¨å‘½ä»¤"><a href="#ä¸‰ã€æ—¥å¿—ç®¡ç†å¸¸ç”¨å‘½ä»¤" class="headerlink" title="ä¸‰ã€æ—¥å¿—ç®¡ç†å¸¸ç”¨å‘½ä»¤"></a>ä¸‰ã€æ—¥å¿—ç®¡ç†å¸¸ç”¨å‘½ä»¤</h2><p><strong>æç¤º</strong>ï¼šåœ¨ç»ˆç«¯ç›´æ¥æŸ¥çœ‹æ—¶ï¼Œå¯ä»¥å»æ‰ <code>--no-pager</code> å‚æ•°ï¼Œä»¥ä½¿ç”¨ <code>less</code> åˆ†é¡µå™¨æ–¹ä¾¿åœ°ä¸Šä¸‹æ»šåŠ¨å’Œæœç´¢ã€‚å¯¼å‡ºæ–‡ä»¶æ—¶åˆ™éœ€è¦åŠ ä¸Šã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹ op-geth æœåŠ¡çš„å®æ—¶æ—¥å¿—</span></span><br><span class="line">journalctl -u op-geth.service -f</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®æ—¶æŸ¥çœ‹ op-geth å’Œ op-node ä¸¤ä¸ªæœåŠ¡çš„æ··åˆæ—¥å¿—</span></span><br><span class="line">journalctl -u op-geth.service -u op-node.service -f</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹ op-geth è¿‡å»ä¸¤å°æ—¶çš„æ—¥å¿—</span></span><br><span class="line">journalctl -u op-geth.service --since <span class="string">&quot;2 hour ago&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹ op-node ä»Šå¤©çš„æ‰€æœ‰æ—¥å¿—</span></span><br><span class="line">journalctl -u op-node.service --since <span class="string">&quot;today&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹ç‰¹å®šæ—¶é—´æ®µçš„æ—¥å¿— (ç¤ºä¾‹æ—¥æœŸ: 2025-09-19)</span></span><br><span class="line">journalctl -u op-geth.service --since <span class="string">&quot;2025-09-19 15:00:00&quot;</span> --<span class="keyword">until</span> <span class="string">&quot;2025-09-19 17:00:00&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯¼å‡º op-geth æ˜¨æ—¥çš„å…¨éƒ¨æ—¥å¿—åˆ°æ ¹ç›®å½•</span></span><br><span class="line">journalctl -u op-geth.service --since <span class="string">&quot;yesterday&quot;</span> --<span class="keyword">until</span> <span class="string">&quot;today&quot;</span> --no-pager &gt; ~/op-geth_yesterday.log</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹å½“å‰ journald æ—¥å¿—å ç”¨ç©ºé—´</span></span><br><span class="line">journalctl --disk-usage</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ£€æŸ¥ journald å½“å‰çš„ç£ç›˜é™é¢é…ç½®</span></span><br><span class="line"><span class="built_in">cat</span> /etc/systemd/journald.conf | grep SystemMaxUse</span><br></pre></td></tr></table></figure><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>å¯¹äº <code>Layer2</code> èŠ‚ç‚¹è¿™æ ·éœ€è¦é«˜å¯ç”¨æ€§å’Œè¿ç»­è¿è¡Œçš„å…³é”®æœåŠ¡ï¼Œç°ä»£åŒ–çš„ <code>Journald</code> ç®¡ç†æ–¹æ¡ˆæ˜¾ç„¶æ›´å…·ä¼˜åŠ¿ï¼ŒåŸå› å¦‚ä¸‹ï¼š</p><ul><li><strong>é›¶æœåŠ¡ä¸­æ–­</strong>ï¼šé¿å…äº† Logrotate é‡å¯æœåŠ¡å¯¼è‡´çš„åŒºå—é‡æ‰«é—®é¢˜</li><li><strong>åŸç”Ÿé›†æˆ</strong>ï¼šä¸ Systemd ç”Ÿæ€æ·±åº¦æ•´åˆï¼Œç®¡ç†æ›´åŠ ç»Ÿä¸€</li><li><strong>ç»“æ„åŒ–å­˜å‚¨</strong>ï¼šæ”¯æŒæ›´ä¸°å¯Œçš„æŸ¥è¯¢å’Œè¿‡æ»¤åŠŸèƒ½</li><li><strong>ç®€åŒ–è¿ç»´</strong>ï¼šæ— éœ€å¤æ‚çš„è½®è½¬è„šæœ¬ï¼Œé…ç½®ç®€å•ç»´æŠ¤æ–¹ä¾¿</li></ul><p>è‰¯å¥½çš„æ—¥å¿—ç®¡ç†æ˜¯ä¿éšœèŠ‚ç‚¹ç¨³å®šè¿è¡Œã€å¿«é€Ÿæ’æŸ¥é—®é¢˜çš„åŸºçŸ³ï¼Œé€‰æ‹©åˆé€‚çš„æ–¹æ¡ˆèƒ½è®©ç»´æŠ¤å·¥ä½œäº‹åŠåŠŸå€ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> Layer2 </tag>
            
            <tag> Journald </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Layer2 â€”â€” Systemd è‡ªåŠ¨åŒ–ç®¡ç† OP Stack ç»„ä»¶</title>
      <link href="/2025/09/17/systemd-auto-mgmt-part3/"/>
      <url>/2025/09/17/systemd-auto-mgmt-part3/</url>
      
        <content type="html"><![CDATA[<h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><p>åœ¨éƒ¨ç½²å’Œè¿è¡Œ Optimism çš„è¿‡ç¨‹ä¸­ï¼Œæ‰‹åŠ¨å¯åŠ¨å„ä¸ªç»„ä»¶æ—¢ç¹çåˆå®¹æ˜“å‡ºé”™ã€‚æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»å¦‚ä½•ä½¿ç”¨ systemd æœåŠ¡æ¥è‡ªåŠ¨åŒ–ç®¡ç† OP Stack çš„å„ä¸ªæ ¸å¿ƒç»„ä»¶ï¼ŒåŒ…æ‹¬ op-gethã€op-nodeã€op-batcher å’Œ op-proposerã€‚</p><p>âš ï¸<strong>æœ¬æ–‡ä¸­çš„è·¯å¾„ <code>/home/eth/optimism/</code> ä»…ä½œç¤ºä¾‹ï¼Œä½¿ç”¨å‰è¯·æ ¹æ®è‡ªå·±çš„éƒ¨ç½²ç›®å½•ä¿®æ”¹</strong></p><h2 id="ä¸€ã€Why-Systemdï¼Ÿ"><a href="#ä¸€ã€Why-Systemdï¼Ÿ" class="headerlink" title="ä¸€ã€Why Systemdï¼Ÿ"></a>ä¸€ã€Why Systemdï¼Ÿ</h2><p>Systemd æ˜¯ç°ä»£ Linux å‘è¡Œç‰ˆçš„æ ‡å‡†åˆå§‹åŒ–ç³»ç»Ÿå’ŒæœåŠ¡ç®¡ç†å™¨ï¼Œå®ƒæä¾›äº†ä»¥ä¸‹ä¼˜åŠ¿ï¼š</p><ul><li><strong>è‡ªåŠ¨é‡å¯</strong>ï¼šå½“æœåŠ¡å¼‚å¸¸é€€å‡ºæ—¶è‡ªåŠ¨é‡å¯</li><li><strong>ä¾èµ–ç®¡ç†</strong>ï¼šç¡®ä¿æœåŠ¡æŒ‰æ­£ç¡®é¡ºåºå¯åŠ¨</li><li><strong>æ—¥å¿—ç®¡ç†</strong>ï¼šé›†ä¸­ç®¡ç†æœåŠ¡æ—¥å¿—</li><li><strong>å¼€æœºè‡ªå¯</strong>ï¼šç³»ç»Ÿé‡å¯åè‡ªåŠ¨å¯åŠ¨æœåŠ¡</li></ul><h2 id="äºŒã€å¯åŠ¨è„šæœ¬"><a href="#äºŒã€å¯åŠ¨è„šæœ¬" class="headerlink" title="äºŒã€å¯åŠ¨è„šæœ¬"></a>äºŒã€å¯åŠ¨è„šæœ¬</h2><h3 id="2-1-åˆ›å»ºè„šæœ¬ç›®å½•"><a href="#2-1-åˆ›å»ºè„šæœ¬ç›®å½•" class="headerlink" title="2.1 åˆ›å»ºè„šæœ¬ç›®å½•"></a>2.1 åˆ›å»ºè„šæœ¬ç›®å½•</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/optimism/</span><br><span class="line"><span class="built_in">mkdir</span> -p scripts</span><br><span class="line"><span class="built_in">cd</span> scripts/</span><br></pre></td></tr></table></figure><h3 id="2-2-åˆ›å»ºå¯åŠ¨è„šæœ¬"><a href="#2-2-åˆ›å»ºå¯åŠ¨è„šæœ¬" class="headerlink" title="2.2 åˆ›å»ºå¯åŠ¨è„šæœ¬"></a>2.2 åˆ›å»ºå¯åŠ¨è„šæœ¬</h3><h4 id="OP-Geth-å¯åŠ¨è„šæœ¬"><a href="#OP-Geth-å¯åŠ¨è„šæœ¬" class="headerlink" title="OP-Geth å¯åŠ¨è„šæœ¬"></a>OP-Geth å¯åŠ¨è„šæœ¬</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> &gt; ./op-geth_starter.sh &lt;&lt; <span class="string">&#x27;EOF&#x27;</span></span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">LOG_DIR=<span class="string">&quot;/home/eth/optimism/logs/op-geth&quot;</span></span><br><span class="line"><span class="built_in">mkdir</span> -p <span class="variable">$LOG_DIR</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Starting Geth node at <span class="subst">$(date)</span>&quot;</span></span><br><span class="line"><span class="built_in">cd</span> /home/eth/optimism/op-geth</span><br><span class="line"></span><br><span class="line"><span class="built_in">source</span> /home/eth/optimism/.envrc</span><br><span class="line"></span><br><span class="line"><span class="built_in">exec</span> ./build/bin/geth \</span><br><span class="line">--datadir ./datadir \</span><br><span class="line">--http \</span><br><span class="line">    --http.corsdomain=<span class="string">&quot;*&quot;</span> \</span><br><span class="line">    --http.vhosts=<span class="string">&quot;*&quot;</span> \</span><br><span class="line">    --http.addr=0.0.0.0 \</span><br><span class="line">    --http.api=web3,debug,eth,txpool,net,engine,miner \</span><br><span class="line">    --ws \</span><br><span class="line">    --ws.addr=0.0.0.0 \</span><br><span class="line">    --ws.port=8546 \</span><br><span class="line">    --ws.origins=<span class="string">&quot;*&quot;</span> \</span><br><span class="line">    --ws.api=debug,eth,txpool,net,engine,miner \</span><br><span class="line">    --syncmode=full \</span><br><span class="line">    --gcmode=archive \</span><br><span class="line">    --nodiscover \</span><br><span class="line">    --maxpeers=0 \</span><br><span class="line">    --networkid=<span class="variable">$L2_CHAIN_ID</span> \</span><br><span class="line">    --authrpc.vhosts=<span class="string">&quot;*&quot;</span> \</span><br><span class="line">    --authrpc.addr=0.0.0.0 \</span><br><span class="line">    --authrpc.port=8551 \</span><br><span class="line">    --authrpc.jwtsecret=./jwt.txt \</span><br><span class="line">    --rollup.disabletxpoolgossip=<span class="literal">true</span></span><br><span class="line">EOF</span><br></pre></td></tr></table></figure><h4 id="OP-Node-å¯åŠ¨è„šæœ¬"><a href="#OP-Node-å¯åŠ¨è„šæœ¬" class="headerlink" title="OP-Node å¯åŠ¨è„šæœ¬"></a>OP-Node å¯åŠ¨è„šæœ¬</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> &gt; ./op-node_starter.sh &lt;&lt; <span class="string">&#x27;EOF&#x27;</span></span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">LOG_DIR=<span class="string">&quot;/home/eth/optimism/logs/op-node&quot;</span></span><br><span class="line"><span class="built_in">mkdir</span> -p <span class="variable">$LOG_DIR</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Starting OP-Node at <span class="subst">$(date)</span>&quot;</span></span><br><span class="line"><span class="built_in">cd</span> /home/eth/optimism/op-node</span><br><span class="line"></span><br><span class="line"><span class="built_in">source</span> /home/eth/optimism/.envrc</span><br><span class="line"></span><br><span class="line"><span class="built_in">exec</span> ./bin/op-node \</span><br><span class="line">        --l2=http://localhost:8551 \</span><br><span class="line">        --l2.jwt-secret=./jwt.txt \</span><br><span class="line">        --sequencer.enabled \</span><br><span class="line">        --sequencer.l1-confs=5 \</span><br><span class="line">        --verifier.l1-confs=4 \</span><br><span class="line">        --rollup.config=../.deployer/rollup.json \</span><br><span class="line">        --rpc.addr=0.0.0.0 \</span><br><span class="line">        --rpc.port=9545 \</span><br><span class="line">        --p2p.disable \</span><br><span class="line">        --rpc.enable-admin \</span><br><span class="line">        --p2p.sequencer.key=<span class="variable">$GS_SEQUENCER_PRIVATE_KEY</span> \</span><br><span class="line">        --l1=<span class="variable">$L1_RPC_URL</span> \</span><br><span class="line">        --l1.rpckind=<span class="variable">$L1_RPC_KIND</span> \</span><br><span class="line">        --l1.beacon=<span class="variable">$L1_BEACON_URL</span></span><br><span class="line">EOF</span><br></pre></td></tr></table></figure><h4 id="OP-Batcher-å¯åŠ¨è„šæœ¬"><a href="#OP-Batcher-å¯åŠ¨è„šæœ¬" class="headerlink" title="OP-Batcher å¯åŠ¨è„šæœ¬"></a>OP-Batcher å¯åŠ¨è„šæœ¬</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> &gt; ./op-batcher_starter.sh &lt;&lt; <span class="string">&#x27;EOF&#x27;</span></span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">LOG_DIR=<span class="string">&quot;/home/eth/optimism/logs/op-batcher&quot;</span></span><br><span class="line"><span class="built_in">mkdir</span> -p <span class="variable">$LOG_DIR</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Starting OP-Batcher at <span class="subst">$(date)</span>&quot;</span></span><br><span class="line"><span class="built_in">cd</span> /home/eth/optimism/op-batcher</span><br><span class="line"></span><br><span class="line"><span class="built_in">source</span> /home/eth/optimism/.envrc</span><br><span class="line"></span><br><span class="line"><span class="built_in">exec</span> ./bin/op-batcher \</span><br><span class="line">        --l2-eth-rpc=http://localhost:8545 \</span><br><span class="line">        --rollup-rpc=http://localhost:9545 \</span><br><span class="line">        --poll-interval=1s \</span><br><span class="line">        --sub-safety-margin=6 \</span><br><span class="line">        --num-confirmations=1 \</span><br><span class="line">        --safe-abort-nonce-too-low-count=3 \</span><br><span class="line">        --resubmission-timeout=30s \</span><br><span class="line">        --rpc.addr=0.0.0.0 \</span><br><span class="line">        --rpc.port=8548 \</span><br><span class="line">        --rpc.enable-admin \</span><br><span class="line">        --max-channel-duration=25 \</span><br><span class="line">        --l1-eth-rpc=<span class="variable">$L1_RPC_URL</span> \</span><br><span class="line">        --private-key=<span class="variable">$GS_BATCHER_PRIVATE_KEY</span></span><br><span class="line">EOF</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="OP-Proposer-å¯åŠ¨è„šæœ¬"><a href="#OP-Proposer-å¯åŠ¨è„šæœ¬" class="headerlink" title="OP-Proposer å¯åŠ¨è„šæœ¬"></a>OP-Proposer å¯åŠ¨è„šæœ¬</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> &gt; ./op-proposer_starter.sh &lt;&lt; <span class="string">&#x27;EOF&#x27;</span></span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">LOG_DIR=<span class="string">&quot;/home/eth/optimism/logs/op-proposer&quot;</span></span><br><span class="line"><span class="built_in">mkdir</span> -p <span class="variable">$LOG_DIR</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Starting OP-Proposer at <span class="subst">$(date)</span>&quot;</span></span><br><span class="line"><span class="built_in">cd</span> /home/eth/optimism/op-proposer</span><br><span class="line"></span><br><span class="line"><span class="built_in">source</span> /home/eth/optimism/.envrc</span><br><span class="line"></span><br><span class="line"><span class="built_in">exec</span> ./bin/op-proposer \</span><br><span class="line">    --poll-interval=12s \</span><br><span class="line">    --rpc.port=8560 \</span><br><span class="line">    --rollup-rpc=http://localhost:9545 \</span><br><span class="line">    --private-key=<span class="variable">$GS_PROPOSER_PRIVATE_KEY</span> \</span><br><span class="line">    --l1-eth-rpc=<span class="variable">$L1_RPC_URL</span></span><br><span class="line">EOF</span><br></pre></td></tr></table></figure><h3 id="2-3-è®¾ç½®è„šæœ¬æƒé™"><a href="#2-3-è®¾ç½®è„šæœ¬æƒé™" class="headerlink" title="2.3 è®¾ç½®è„šæœ¬æƒé™"></a>2.3 è®¾ç½®è„šæœ¬æƒé™</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">chmod</span> +x op-geth_starter.sh op-node_starter.sh op-batcher_starter.sh  op-proposer_starter.sh</span><br></pre></td></tr></table></figure><h3 id="2-4-æµ‹è¯•è„šæœ¬"><a href="#2-4-æµ‹è¯•è„šæœ¬" class="headerlink" title="2.4 æµ‹è¯•è„šæœ¬"></a>2.4 æµ‹è¯•è„šæœ¬</h3><p>æ­¤æ—¶å¯ä»¥å°è¯•å¯åŠ¨ä¸€ä¸‹è„šæœ¬ï¼Œæ£€æŸ¥è„šæœ¬æ˜¯å¦æ­£å¸¸å·¥ä½œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¯åŠ¨ L2 èŠ‚ç‚¹çš„ Geth</span></span><br><span class="line">./op-geth_starter.sh</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯åŠ¨ OP Node</span></span><br><span class="line">./op-node_starter.sh</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯åŠ¨ Batcher</span></span><br><span class="line">./op-batcher_starter.sh</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯åŠ¨ Proposer</span></span><br><span class="line">./op-proposer_starter.sh</span><br></pre></td></tr></table></figure><h2 id="ä¸‰ã€Systemd-æœåŠ¡æ–‡ä»¶"><a href="#ä¸‰ã€Systemd-æœåŠ¡æ–‡ä»¶" class="headerlink" title="ä¸‰ã€Systemd æœåŠ¡æ–‡ä»¶"></a>ä¸‰ã€Systemd æœåŠ¡æ–‡ä»¶</h2><h3 id="3-1-åˆ›å»ºæœåŠ¡æ–‡ä»¶ç›®å½•"><a href="#3-1-åˆ›å»ºæœåŠ¡æ–‡ä»¶ç›®å½•" class="headerlink" title="3.1 åˆ›å»ºæœåŠ¡æ–‡ä»¶ç›®å½•"></a>3.1 åˆ›å»ºæœåŠ¡æ–‡ä»¶ç›®å½•</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/optimism/</span><br><span class="line"><span class="built_in">mkdir</span> -p service</span><br><span class="line"><span class="built_in">cd</span> service/</span><br></pre></td></tr></table></figure><h3 id="3-2-åˆ›å»º-Systemd-æœåŠ¡æ–‡ä»¶"><a href="#3-2-åˆ›å»º-Systemd-æœåŠ¡æ–‡ä»¶" class="headerlink" title="3.2 åˆ›å»º Systemd æœåŠ¡æ–‡ä»¶"></a>3.2 åˆ›å»º Systemd æœåŠ¡æ–‡ä»¶</h3><h4 id="OP-Geth-æœåŠ¡é…ç½®"><a href="#OP-Geth-æœåŠ¡é…ç½®" class="headerlink" title="OP-Geth æœåŠ¡é…ç½®"></a>OP-Geth æœåŠ¡é…ç½®</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> &gt; ./op-geth.service &lt;&lt; <span class="string">&#x27;EOF&#x27;</span></span><br><span class="line">[Unit]</span><br><span class="line">Description=OP-Geth Execution Client</span><br><span class="line">After=network-online.target</span><br><span class="line">Wants=network-online.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">Type=simple</span><br><span class="line">User=root</span><br><span class="line">Group=root</span><br><span class="line"></span><br><span class="line">WorkingDirectory=/home/eth/optimism/scripts</span><br><span class="line">ExecStart=/home/eth/optimism/scripts/op-geth_starter.sh</span><br><span class="line"></span><br><span class="line">StandardOutput=append:/home/eth/optimism/logs/op-geth/geth.log</span><br><span class="line">StandardError=append:/home/eth/optimism/logs/op-geth/geth.log</span><br><span class="line"></span><br><span class="line">Restart=always</span><br><span class="line">RestartSec=10</span><br><span class="line">LimitNOFILE=65536</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br><span class="line">EOF</span><br></pre></td></tr></table></figure><h4 id="OP-Node-æœåŠ¡é…ç½®"><a href="#OP-Node-æœåŠ¡é…ç½®" class="headerlink" title="OP-Node æœåŠ¡é…ç½®"></a>OP-Node æœåŠ¡é…ç½®</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> &gt; ./op-node.service &lt;&lt; <span class="string">&#x27;EOF&#x27;</span></span><br><span class="line">[Unit]</span><br><span class="line">Description=OP-Node L2 Consensus Client</span><br><span class="line">After=network-online.target op-geth.service</span><br><span class="line">Wants=network-online.target</span><br><span class="line">Requires=op-geth.service</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">Type=simple</span><br><span class="line">User=root</span><br><span class="line">Group=root</span><br><span class="line"></span><br><span class="line">WorkingDirectory=/home/eth/optimism/scripts</span><br><span class="line">ExecStart=/home/eth/optimism/scripts/op-node_starter.sh</span><br><span class="line"></span><br><span class="line">StandardOutput=append:/home/eth/optimism/logs/op-node/op-node.log</span><br><span class="line">StandardError=append:/home/eth/optimism/logs/op-node/op-node.log</span><br><span class="line"></span><br><span class="line">Restart=always</span><br><span class="line">RestartSec=10</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br><span class="line">EOF</span><br></pre></td></tr></table></figure><h4 id="OP-Batcher-æœåŠ¡é…ç½®"><a href="#OP-Batcher-æœåŠ¡é…ç½®" class="headerlink" title="OP-Batcher æœåŠ¡é…ç½®"></a>OP-Batcher æœåŠ¡é…ç½®</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> &gt; ./op-batcher.service &lt;&lt; <span class="string">&#x27;EOF&#x27;</span></span><br><span class="line">[Unit]</span><br><span class="line">Description=OP-Batcher L2 Transaction Batcher</span><br><span class="line">After=network-online.target op-node.service</span><br><span class="line">Wants=network-online.target</span><br><span class="line">Requires=op-node.service</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">Type=simple</span><br><span class="line">User=root</span><br><span class="line">Group=root</span><br><span class="line"></span><br><span class="line">WorkingDirectory=/home/eth/optimism/scripts</span><br><span class="line">ExecStart=/home/eth/optimism/scripts/op-batcher_starter.sh</span><br><span class="line"></span><br><span class="line">StandardOutput=append:/home/eth/optimism/logs/op-batcher/op-batcher.log</span><br><span class="line">StandardError=append:/home/eth/optimism/logs/op-batcher/op-batcher.log</span><br><span class="line"></span><br><span class="line">Restart=always</span><br><span class="line">RestartSec=10</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br><span class="line">EOF</span><br></pre></td></tr></table></figure><h4 id="OP-Proposer-æœåŠ¡é…ç½®"><a href="#OP-Proposer-æœåŠ¡é…ç½®" class="headerlink" title="OP-Proposer æœåŠ¡é…ç½®"></a>OP-Proposer æœåŠ¡é…ç½®</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="built_in">cat</span> &gt; ./op-proposer.service &lt;&lt; <span class="string">&#x27;EOF&#x27;</span></span><br><span class="line">[Unit]</span><br><span class="line">Description=OP-Proposer L2 State Proposer</span><br><span class="line">After=network-online.target op-node.service</span><br><span class="line">Wants=network-online.target</span><br><span class="line">Requires=op-node.service</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">Type=simple</span><br><span class="line">User=root</span><br><span class="line">Group=root</span><br><span class="line"></span><br><span class="line">WorkingDirectory=/home/eth/optimism/scripts</span><br><span class="line">ExecStart=/home/eth/optimism/scripts/op-proposer_starter.sh</span><br><span class="line"></span><br><span class="line">StandardOutput=append:/home/eth/optimism/logs/op-proposer/op-proposer.log</span><br><span class="line">StandardError=append:/home/eth/optimism/logs/op-proposer/op-proposer.log</span><br><span class="line"></span><br><span class="line">Restart=always</span><br><span class="line">RestartSec=10</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br><span class="line">EOF</span><br></pre></td></tr></table></figure><h4 id="æœåŠ¡ä¾èµ–å…³ç³»è¯´æ˜"><a href="#æœåŠ¡ä¾èµ–å…³ç³»è¯´æ˜" class="headerlink" title="æœåŠ¡ä¾èµ–å…³ç³»è¯´æ˜"></a>æœåŠ¡ä¾èµ–å…³ç³»è¯´æ˜</h4><p>æœåŠ¡å¯åŠ¨çš„ä¾èµ–é¡ºåºå¦‚ä¸‹ï¼š</p><ol><li><strong>op-geth</strong>ï¼šåŸºç¡€æ‰§è¡Œå®¢æˆ·ç«¯ï¼Œå¿…é¡»é¦–å…ˆå¯åŠ¨</li><li><strong>op-node</strong>ï¼šä¾èµ– op-geth æä¾›çš„ Engine API</li><li><strong>op-batcher</strong> å’Œ <strong>op-proposer</strong>ï¼šéƒ½ä¾èµ– op-node æä¾›çš„ Rollup RPC</li></ol><p>é€šè¿‡ <code>After</code> å’Œ <code>Requires</code> æŒ‡ä»¤ï¼Œsystemd ä¼šè‡ªåŠ¨å¤„ç†è¿™äº›ä¾èµ–å…³ç³»ã€‚</p><h3 id="3-3-å®‰è£…æœåŠ¡æ–‡ä»¶"><a href="#3-3-å®‰è£…æœåŠ¡æ–‡ä»¶" class="headerlink" title="3.3 å®‰è£…æœåŠ¡æ–‡ä»¶"></a>3.3 å®‰è£…æœåŠ¡æ–‡ä»¶</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»ºç¬¦å·é“¾æ¥</span></span><br><span class="line"><span class="built_in">sudo</span> <span class="built_in">ln</span> -sf /home/eth/optimism/service/*.service /etc/systemd/system/</span><br><span class="line"></span><br><span class="line"><span class="comment"># é‡è½½ systemd é…ç½®</span></span><br><span class="line"><span class="built_in">sudo</span> systemctl daemon-reload</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ£€æŸ¥æœåŠ¡æ–‡ä»¶è¯­æ³•æ˜¯å¦æœ‰è¯¯</span></span><br><span class="line"><span class="built_in">sudo</span> systemd-analyze verify /etc/systemd/system/<span class="variable">$&#123;service&#125;</span>.service</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯ç”¨å¼€æœºè‡ªå¯</span></span><br><span class="line"><span class="built_in">sudo</span> systemctl <span class="built_in">enable</span> op-geth op-node op-batcher op-proposer</span><br></pre></td></tr></table></figure><h2 id="å››ã€å¯åŠ¨æœåŠ¡"><a href="#å››ã€å¯åŠ¨æœåŠ¡" class="headerlink" title="å››ã€å¯åŠ¨æœåŠ¡"></a>å››ã€å¯åŠ¨æœåŠ¡</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¯åŠ¨æ‰€æœ‰æœåŠ¡</span></span><br><span class="line"><span class="built_in">sudo</span> systemctl start op-geth op-node op-batcher op-proposer</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ£€æŸ¥æœåŠ¡çŠ¶æ€</span></span><br><span class="line"><span class="built_in">sudo</span> systemctl status op-geth op-node op-batcher op-proposer</span><br></pre></td></tr></table></figure><p><strong>å¯åŠ¨æˆåŠŸçŠ¶æ€åº”å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</strong><br><img src="/images/2025/layer2status.png"></p><p><strong>Hoorayï¼Systemd é…ç½®æˆåŠŸï¼ï¼ï¼</strong></p><h2 id="äº”ã€å¸¸è§æ•…éšœæ’æŸ¥"><a href="#äº”ã€å¸¸è§æ•…éšœæ’æŸ¥" class="headerlink" title="äº”ã€å¸¸è§æ•…éšœæ’æŸ¥"></a>äº”ã€å¸¸è§æ•…éšœæ’æŸ¥</h2><p><strong>æ—¥å¿—ç®¡ç†</strong></p><blockquote><ul><li><p>OP-Geth: <code>/home/eth/optimism/logs/op-geth/geth.log</code></p></li><li><p>OP-Node: <code>/home/eth/optimism/logs/op-node/op-node.log</code></p></li><li><p>OP-Batcher: <code>/home/eth/optimism/logs/op-batcher/op-batcher.log</code></p></li><li><p>OP-Proposer: <code>/home/eth/optimism/logs/op-proposer/op-proposer.log</code></p></li></ul></blockquote><h3 id="5-1-code-exited-status-1-FAILURE"><a href="#5-1-code-exited-status-1-FAILURE" class="headerlink" title="5.1 code&#x3D;exited, status&#x3D;1&#x2F;FAILURE"></a>5.1 code&#x3D;exited, status&#x3D;1&#x2F;FAILURE</h3><p>è¿›å…¥çš„ logs çš„è·¯å¾„é€šè¿‡å‘½ä»¤ <code>tail -n 50 YOUR_LOG_NAME</code> æŸ¥çœ‹æœåŠ¡çš„æœ€è¿‘æ—¥å¿—ï¼Œä½¿ç”¨ systemd æ‰§è¡Œè„šæœ¬æ—¶ä¸ä¼šè‡ªåŠ¨åŠ è½½ç¯å¢ƒå˜é‡ï¼Œå¦‚æœè„šæœ¬ä¸­ä½¿ç”¨äº†ç¯å¢ƒå˜é‡ä½†æ²¡æœ‰æ­£ç¡®åŠ è½½ï¼Œå°±ä¼šå¯¼è‡´æ‰¾ä¸åˆ°ç›¸å…³å˜é‡è€ŒæŠ¥é”™ã€‚</p><p><img src="/images/2025/addressnotfound.png"></p><p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šç¡®ä¿å¯åŠ¨è„šæœ¬ä¸­æ­£ç¡®é…ç½®ç¯å¢ƒå˜é‡åŠ è½½è¯­å¥ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> ~/optimism/.envrc</span><br></pre></td></tr></table></figure><h3 id="5-2-code-exited-status-209-STDOUT"><a href="#5-2-code-exited-status-209-STDOUT" class="headerlink" title="5.2 code&#x3D;exited, status&#x3D;209&#x2F;STDOUT"></a>5.2 code&#x3D;exited, status&#x3D;209&#x2F;STDOUT</h3><p>é€šè¿‡å‘½ä»¤ <code>sudo journalctl -u YOUR_SERVICE_NAME -n 50 --no-pager</code>æŸ¥çœ‹æœåŠ¡çš„æœ€è¿‘æ—¥å¿—ã€‚æœåŠ¡å¯åŠ¨æ—¶ä¼šæ£€æŸ¥é…ç½®çš„è·¯å¾„æ˜¯å¦å¯è®¿é—®æˆ–å­˜åœ¨ï¼Œéœ€è¦æ£€æŸ¥é…ç½®çš„è·¯å¾„æ˜¯å¦å­˜åœ¨ä»¥åŠæ˜¯å¦å…·æœ‰è®¿é—®æƒé™ã€‚</p><p><strong>æ’æŸ¥æ­¥éª¤</strong>ï¼š</p><ol><li>æ£€æŸ¥ <code>WorkingDirectory</code> è·¯å¾„æ˜¯å¦å­˜åœ¨</li><li>æ£€æŸ¥ <code>ExecStart</code> æŒ‡å‘çš„è„šæœ¬æ–‡ä»¶æ˜¯å¦å­˜åœ¨ä¸”æœ‰æ‰§è¡Œæƒé™</li><li>æ£€æŸ¥æ—¥å¿—ç›®å½•æ˜¯å¦å¯å†™</li></ol><p><img src="/images/2025/209-stdout.png"></p><h3 id="5-3-å…¶ä»–å¸¸ç”¨è°ƒè¯•å‘½ä»¤ç¤ºä¾‹"><a href="#5-3-å…¶ä»–å¸¸ç”¨è°ƒè¯•å‘½ä»¤ç¤ºä¾‹" class="headerlink" title="5.3 å…¶ä»–å¸¸ç”¨è°ƒè¯•å‘½ä»¤ç¤ºä¾‹"></a>5.3 å…¶ä»–å¸¸ç”¨è°ƒè¯•å‘½ä»¤ç¤ºä¾‹</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹æœåŠ¡å®æ—¶æ—¥å¿—</span></span><br><span class="line"><span class="built_in">sudo</span> journalctl -u op-geth -f</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹è¿è¡Œç»„ä»¶å®æ—¶æ—¥å¿—</span></span><br><span class="line"><span class="built_in">tail</span> -f op-geth</span><br><span class="line"></span><br><span class="line"><span class="comment"># é‡å¯æœåŠ¡</span></span><br><span class="line"><span class="built_in">sudo</span> systemctl restart op-geth op-node op-batcher op-proposer</span><br><span class="line"></span><br><span class="line"><span class="comment"># åœæ­¢æœåŠ¡</span></span><br><span class="line"><span class="built_in">sudo</span> systemctl stop op-geth op-node op-batcher op-proposer</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ£€æŸ¥æ‰€æœ‰æœåŠ¡çŠ¶æ€</span></span><br><span class="line"><span class="built_in">sudo</span> systemctl is-active op-geth op-node op-batcher op-proposer</span><br></pre></td></tr></table></figure><h2 id="å…­ã€æ€»ç»“"><a href="#å…­ã€æ€»ç»“" class="headerlink" title="å…­ã€æ€»ç»“"></a>å…­ã€æ€»ç»“</h2><p>é€šè¿‡ä½¿ç”¨ systemd ç®¡ç† OP Stack ç»„ä»¶ï¼Œæˆ‘ä»¬å®ç°äº†ï¼š</p><ul><li><strong>è‡ªåŠ¨åŒ–ç®¡ç†</strong>ï¼šæœåŠ¡è‡ªåŠ¨å¯åŠ¨ã€é‡å¯å’Œç›‘æ§</li><li><strong>ä¾èµ–ç®¡ç†</strong>ï¼šç¡®ä¿æœåŠ¡æŒ‰æ­£ç¡®é¡ºåºå¯åŠ¨</li><li><strong>æ—¥å¿—é›†ä¸­ç®¡ç†</strong>ï¼šæ–¹ä¾¿é—®é¢˜æ’æŸ¥å’Œç›‘æ§</li><li><strong>ç”Ÿäº§ç¯å¢ƒå°±ç»ª</strong>ï¼šæ»¡è¶³ç”Ÿäº§ç¯å¢ƒçš„ç¨³å®šæ€§è¦æ±‚</li></ul><p>è¿™ç§é…ç½®æ–¹å¼ç‰¹åˆ«é€‚åˆç”Ÿäº§ç¯å¢ƒéƒ¨ç½²ï¼Œèƒ½å¤Ÿæ˜¾è‘—å‡å°‘æ‰‹åŠ¨ç»´æŠ¤å·¥ä½œé‡ï¼Œæé«˜ç³»ç»Ÿçš„å¯é æ€§å’Œç¨³å®šæ€§ã€‚å½“é‡åˆ°é—®é¢˜æ—¶ï¼Œé€šè¿‡æŸ¥çœ‹å…·ä½“çš„é”™è¯¯ä»£ç å’Œæ—¥å¿—ï¼Œèƒ½å¤Ÿå¿«é€Ÿå®šä½å’Œè§£å†³é—®é¢˜ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> Layer2 </tag>
            
            <tag> Systemd </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Layer2 â€”â€” Blockscout éƒ¨ç½²æŒ‡å—</title>
      <link href="/2025/09/16/blockscout-deployment-part2/"/>
      <url>/2025/09/16/blockscout-deployment-part2/</url>
      
        <content type="html"><![CDATA[<h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><p>æœ¬æŒ‡å—è¯¦ç»†ä»‹ç»äº†å¦‚ä½•ä¸ºæ­å»ºçš„ Layer2 åŒºå—é“¾ç½‘ç»œéƒ¨ç½² Blockscout åŒºå—æµè§ˆå™¨ã€‚Blockscout æ˜¯ä¸€ä¸ªåŠŸèƒ½å…¨é¢çš„å¼€æºåŒºå—é“¾æµè§ˆå™¨ï¼Œä¸“ä¸ºä»¥å¤ªåŠè™šæ‹Ÿæœºï¼ˆEVMï¼‰å…¼å®¹ç½‘ç»œè®¾è®¡ã€‚å®ƒæä¾›äº†ç›´è§‚çš„ç”¨æˆ·ç•Œé¢æ¥æŸ¥çœ‹äº¤æ˜“ã€åŒºå—ã€åˆçº¦å’Œè´¦æˆ·ä¿¡æ¯ï¼Œæ˜¯åŒºå—é“¾é¡¹ç›®ä¸å¯æˆ–ç¼ºçš„åŸºç¡€è®¾æ–½ç»„ä»¶ã€‚</p><h2 id="ä¸€ã€ç³»ç»Ÿç¯å¢ƒå‡†å¤‡"><a href="#ä¸€ã€ç³»ç»Ÿç¯å¢ƒå‡†å¤‡" class="headerlink" title="ä¸€ã€ç³»ç»Ÿç¯å¢ƒå‡†å¤‡"></a>ä¸€ã€ç³»ç»Ÿç¯å¢ƒå‡†å¤‡</h2><h3 id="1-1-å®‰è£…è½¯ä»¶ä¾èµ–"><a href="#1-1-å®‰è£…è½¯ä»¶ä¾èµ–" class="headerlink" title="1.1 å®‰è£…è½¯ä»¶ä¾èµ–"></a>1.1 å®‰è£…è½¯ä»¶ä¾èµ–</h3><p>æ‰“å¼€ Ubuntu-24.04 å­ç³»ç»Ÿ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ›´æ–°ç³»ç»Ÿ</span></span><br><span class="line"><span class="built_in">sudo</span> apt update &amp;&amp; <span class="built_in">sudo</span> apt upgrade -y</span><br><span class="line"></span><br><span class="line"><span class="comment"># åŸºç¡€å·¥å…·</span></span><br><span class="line"><span class="built_in">sudo</span> apt install -y curl wget git</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¼–è¯‘å·¥å…· / æ„å»º</span></span><br><span class="line"><span class="built_in">sudo</span> apt install -y build-essential make g++ gcc automake libtool cmake</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç³»ç»Ÿåº“</span></span><br><span class="line"><span class="built_in">sudo</span> apt install -y libudev-dev libgmp-dev libgmp10 libssl-dev libncurses-dev</span><br><span class="line"></span><br><span class="line"><span class="comment"># å‹ç¼© / è§£å‹</span></span><br><span class="line"><span class="built_in">sudo</span> apt install -y zip unzip</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç›‘æ§å·¥å…·</span></span><br><span class="line"><span class="built_in">sudo</span> apt install -y inotify-tools</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£… asdf</span></span><br><span class="line">go install github.com/asdf-vm/asdf/cmd/asdf@v0.18.0</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;export PATH=&quot;$HOME/go/bin:$PATH&quot;&#x27;</span> &gt;&gt; ~/.bashrc</span><br><span class="line"><span class="built_in">source</span> ~/.bashrc</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£… postgreSQL-17 æ•°æ®åº“</span></span><br><span class="line">curl -fsSL https://www.postgresql.org/media/keys/ACCC4CF8.asc|<span class="built_in">sudo</span> gpg --dearmor -o /etc/apt/trusted.gpg.d/postgresql.gpg</span><br><span class="line"><span class="built_in">sudo</span> sh -c <span class="string">&#x27;echo &quot;deb http://apt.postgresql.org/pub/repos/apt $(lsb_release -cs)-pgdg main&quot; &gt; /etc/apt/sources.list.d/pgdg.list&#x27;</span></span><br><span class="line"><span class="built_in">sudo</span> apt update</span><br><span class="line"><span class="built_in">sudo</span> apt install postgresql-17</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£… rust</span></span><br><span class="line">curl --proto <span class="string">&#x27;=https&#x27;</span> --tlsv1.2 -sSf https://sh.rustup.rs | sh -s -- -y</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£… docker-compose</span></span><br><span class="line"><span class="built_in">sudo</span> apt install docker-compose</span><br></pre></td></tr></table></figure><h3 id="1-2-é…ç½®-asdf"><a href="#1-2-é…ç½®-asdf" class="headerlink" title="1.2 é…ç½® asdf"></a>1.2 é…ç½® asdf</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®‰è£… Erlangã€Elixirã€Node.js æ’ä»¶</span></span><br><span class="line">asdf plugin add erlang</span><br><span class="line">asdf plugin add elixir</span><br><span class="line">asdf plugin add nodejs</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”¨äº blockscout backend</span></span><br><span class="line">asdf install erlang 27.3.4</span><br><span class="line">asdf install elixir 1.17.3-otp-27</span><br><span class="line">asdf install nodejs 20.17.0</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”¨äº blockscout frontend</span></span><br><span class="line">asdf install nodejs 22.11.0</span><br><span class="line"></span><br><span class="line"><span class="comment"># åŠ è½½ asdf ç¯å¢ƒå˜é‡</span></span><br><span class="line"><span class="built_in">export</span> PATH=<span class="string">&quot;<span class="variable">$HOME</span>/.asdf/shims:<span class="variable">$HOME</span>/.asdf/bin:<span class="variable">$PATH</span>&quot;</span></span><br><span class="line"><span class="built_in">source</span> ~/.bashrc</span><br></pre></td></tr></table></figure><h3 id="1-3-é…ç½®-Postgres-æ•°æ®åº“"><a href="#1-3-é…ç½®-Postgres-æ•°æ®åº“" class="headerlink" title="1.3 é…ç½® Postgres æ•°æ®åº“"></a>1.3 é…ç½® Postgres æ•°æ®åº“</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ‡æ¢æ•°æ®åº“ç®¡ç†å‘˜</span></span><br><span class="line">su - postgres <span class="comment"># for Root</span></span><br><span class="line"><span class="built_in">sudo</span> -i -u postgres <span class="comment"># for user</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºæ•°æ®åº“ç”¨æˆ·</span></span><br><span class="line">createuser --interactive</span><br><span class="line"><span class="comment"># è¾“å…¥è§’è‰²å: YOUR_DBUSER_NAME</span></span><br><span class="line"><span class="comment"># æ˜¯å¦ä¸ºè¶…çº§ç”¨æˆ·? (y/n) y</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºæ•°æ®åº“</span></span><br><span class="line">createdb blockscout</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¿®æ”¹ç”¨æˆ·å¯†ç </span></span><br><span class="line">psql</span><br><span class="line">ALTER USER YOUR_DBUSER_NAME WITH PASSWORD <span class="string">&#x27;YourSecurePassword&#x27;</span>;</span><br><span class="line">GRANT ALL PRIVILEGES ON DATABASE blockscout TO YOUR_DBUSER_NAME;</span><br><span class="line">\q</span><br><span class="line"><span class="built_in">exit</span></span><br><span class="line"><span class="built_in">sudo</span> systemctl restart postgresql</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ£€æŸ¥æ•°æ®åº“è®¾ç½®æ˜¯å¦æˆåŠŸ</span></span><br><span class="line">su - YOUR_DBUSER_NAME <span class="comment"># for Root</span></span><br><span class="line"><span class="built_in">sudo</span> su - YOUR_DBUSER_NAME <span class="comment"># for user</span></span><br><span class="line">psql -d blockscout<span class="comment"># å¦‚æœèƒ½çœ‹åˆ° blockscout=# è¯´æ˜æˆåŠŸ</span></span><br><span class="line">\q</span><br><span class="line"><span class="built_in">exit</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹ psql è¿è¡ŒçŠ¶æ€</span></span><br><span class="line"><span class="built_in">sudo</span> systemctl status postgresql</span><br></pre></td></tr></table></figure><h2 id="äºŒã€æ„å»º-Blockscout-Backend"><a href="#äºŒã€æ„å»º-Blockscout-Backend" class="headerlink" title="äºŒã€æ„å»º Blockscout Backend"></a>äºŒã€æ„å»º Blockscout Backend</h2><h3 id="2-1-å…‹éš†-Blockscout-Backend-ä»“åº“"><a href="#2-1-å…‹éš†-Blockscout-Backend-ä»“åº“" class="headerlink" title="2.1 å…‹éš† Blockscout Backend ä»“åº“"></a>2.1 å…‹éš† Blockscout Backend ä»“åº“</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»º blockscout å·¥ä½œç›®å½•</span></span><br><span class="line"><span class="built_in">cd</span> ~</span><br><span class="line"><span class="built_in">mkdir</span> -p blockscout</span><br><span class="line"><span class="built_in">cd</span> blockscout</span><br><span class="line"></span><br><span class="line"><span class="comment"># å…‹éš† blockscout backend å¹¶åˆ‡æ¢åˆ°æœ€æ–° release åˆ†æ”¯</span></span><br><span class="line">git <span class="built_in">clone</span> https://github.com/blockscout/blockscout.git backend</span><br><span class="line"><span class="built_in">cd</span> backend</span><br><span class="line">git checkout v9.1.0 -b v9.1.0</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£… Mix ä¾èµ–å¹¶ç¼–è¯‘</span></span><br><span class="line">mix <span class="keyword">do</span> deps.get, local.rebar --force, deps.compile, compile</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¸ºæ•°æ®åº“ç”Ÿæˆæ–°çš„ secret_key_base</span></span><br><span class="line">mix phx.gen.secret</span><br></pre></td></tr></table></figure><h3 id="2-2-ç¼–è¾‘ç¯å¢ƒå˜é‡æ–‡ä»¶"><a href="#2-2-ç¼–è¾‘ç¯å¢ƒå˜é‡æ–‡ä»¶" class="headerlink" title="2.2 ç¼–è¾‘ç¯å¢ƒå˜é‡æ–‡ä»¶"></a>2.2 ç¼–è¾‘ç¯å¢ƒå˜é‡æ–‡ä»¶</h3><p>åˆ›å»º <code>env_vars.env</code> æ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nano env_vars.env</span><br></pre></td></tr></table></figure><p>å¡«å†™ä»¥ä¸‹å˜é‡ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> DATABASE_URL=postgresql://YOUR_DBUSER_NAME:YourSecurePassword@localhost:5432/blockscout</span><br><span class="line"><span class="built_in">export</span> SECRET_KEY_BASE= <span class="comment"># generated by mix phx.gen.secret</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> ETHEREUM_JSONRPC_VARIANT=geth</span><br><span class="line"><span class="built_in">export</span> ETHEREUM_JSONRPC_HTTP_URL=http://localhost:8545</span><br><span class="line"><span class="built_in">export</span> ETHEREUM_JSONRPC_WS_URL=ws://localhost:8546</span><br><span class="line"><span class="built_in">export</span> ETHEREUM_JSONRPC_TRACE_URL=http://localhost:8545</span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> API_V2_ENABLED=<span class="literal">true</span></span><br><span class="line"><span class="built_in">export</span> PORT=4000</span><br><span class="line"><span class="built_in">export</span> MIX_ENV=prod</span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> CHAIN_ID=L2_CHAIN_ID</span><br><span class="line"><span class="built_in">export</span> L1_RPC=L1_RPC_URL</span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> COIN=ETH</span><br><span class="line"><span class="built_in">export</span> COIN_NAME=<span class="string">&quot;Sepolia ETH&quot;</span></span><br><span class="line"><span class="built_in">export</span> COINGECKO_COIN_ID=ethereum</span><br><span class="line"><span class="built_in">export</span> DISPLAY_TOKEN_ICONS=<span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> MICROSERVICE_SC_VERIFIER_ENABLED=<span class="literal">true</span></span><br><span class="line"><span class="built_in">export</span> MICROSERVICE_SC_VERIFIER_URL=http://localhost:8082/</span><br><span class="line"><span class="built_in">export</span> MICROSERVICE_VISUALIZE_SOL2UML_ENABLED=<span class="literal">true</span></span><br><span class="line"><span class="built_in">export</span> MICROSERVICE_VISUALIZE_SOL2UML_URL=http://localhost:8081/</span><br><span class="line"><span class="built_in">export</span> MICROSERVICE_SIG_PROVIDER_ENABLED=<span class="literal">true</span></span><br><span class="line"><span class="built_in">export</span> MICROSERVICE_SIG_PROVIDER_URL=http://localhost:8083/</span><br></pre></td></tr></table></figure><p>åŠ è½½ç¯å¢ƒå˜é‡</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> env_vars.env</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹ postgresql è¿è¡ŒçŠ¶æ€</span></span><br><span class="line"><span class="built_in">sudo</span> systemctl status postgresql</span><br><span class="line"><span class="comment"># åˆ›å»ºæ•°æ®åº“å¹¶è¿ç§»</span></span><br><span class="line">mix <span class="keyword">do</span> ecto.create, ecto.migrate</span><br></pre></td></tr></table></figure><h3 id="2-3-å®‰è£…-Blockscout-Backend-å†…ç½®å‰ç«¯é™æ€èµ„æº"><a href="#2-3-å®‰è£…-Blockscout-Backend-å†…ç½®å‰ç«¯é™æ€èµ„æº" class="headerlink" title="2.3 å®‰è£… Blockscout Backend å†…ç½®å‰ç«¯é™æ€èµ„æº"></a>2.3 å®‰è£… Blockscout Backend å†…ç½®å‰ç«¯é™æ€èµ„æº</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®‰è£… Node.js ä¾èµ–</span></span><br><span class="line"><span class="built_in">cd</span> apps/block_scout_web/assets</span><br><span class="line">npm install</span><br><span class="line">node_modules/webpack/bin/webpack.js --mode production</span><br><span class="line"><span class="built_in">cd</span> -</span><br><span class="line"><span class="built_in">cd</span> apps/explorer</span><br><span class="line">npm install</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¼–è¯‘é™æ€èµ„æº</span></span><br><span class="line"><span class="built_in">cd</span> ../block_scout_web/</span><br><span class="line">mix phx.digest</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”Ÿæˆè‡ªç­¾åè¯ä¹¦ä»¥å¯ç”¨ HTTPSï¼ˆå¼€å‘ç¯å¢ƒï¼‰ï¼š</span></span><br><span class="line">mix phx.gen.cert blockscout blockscout.local</span><br><span class="line"><span class="built_in">cd</span> ../..</span><br></pre></td></tr></table></figure><p>å°† <code>blockscout</code> å’Œ <code>blockscout.local</code> æ·»åŠ åˆ° <code>/etc/hosts</code>ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> nano /etc/hosts</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ·»åŠ ä»¥ä¸‹è¡Œ</span></span><br><span class="line">127.0.0.1 localhost blockscout blockscout.local</span><br><span class="line">::1 localhost blockscout blockscout.local</span><br><span class="line"></span><br><span class="line"> <span class="built_in">sudo</span> nano /etc/postgresql/17/main/pg_hba.conf</span><br><span class="line">host    all             all            0.0.0.0/0               scram-sha-256</span><br></pre></td></tr></table></figure><h2 id="ä¸‰ã€è¿è¡Œå¾®æœåŠ¡"><a href="#ä¸‰ã€è¿è¡Œå¾®æœåŠ¡" class="headerlink" title="ä¸‰ã€è¿è¡Œå¾®æœåŠ¡"></a>ä¸‰ã€è¿è¡Œå¾®æœåŠ¡</h2><h3 id="3-1-ä¿®æ”¹-stats-yml"><a href="#3-1-ä¿®æ”¹-stats-yml" class="headerlink" title="3.1 ä¿®æ”¹ stats.yml"></a>3.1 ä¿®æ”¹ stats.yml</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> docker-compose/services</span><br><span class="line">nano stats.yml</span><br></pre></td></tr></table></figure><p>å°† <code>stats.yml</code> æ–‡ä»¶çš„ç¬¬ <strong>49</strong> è¡Œæ”¹ä¸ºè‡ªå·±çš„ <code>postgresql</code> æ•°æ®åº“ï¼Œå°† localhost æ”¹ä¸ºæœ¬æœº IP</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#STATS__BLOCKSCOUT_DB_URL=$&#123;STATS__BLOCKSCOUT_DB_URL:postgresql://blockscout:ceWb1MeLBEeOIfk65gU8EjF8@db:5432/blockscout&#125;</span></span><br><span class="line"></span><br><span class="line">STATS__BLOCKSCOUT_DB_URL=<span class="variable">$&#123;STATS__BLOCKSCOUT_DB_URL:postgresql://YOUR_DBUSER_NAME:YourSecurePassword@YourIPADDR:5432/blockscout&#125;</span></span><br></pre></td></tr></table></figure><h3 id="3-2-ä¿®æ”¹-user-ops-indexer-yml"><a href="#3-2-ä¿®æ”¹-user-ops-indexer-yml" class="headerlink" title="3.2 ä¿®æ”¹ user-ops-indexer.yml"></a>3.2 ä¿®æ”¹ user-ops-indexer.yml</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nano user-ops-indexer.yml</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹ <code>user-ops-indexer.yml</code> æ–‡ä»¶çš„ç¬¬ <strong>15</strong> å’Œ <strong>16</strong> è¡Œï¼Œæ›¿æ¢è‡ªå·±çš„ <code>postgresql</code> æ•°æ®åº“å’Œæœ¬æœº IP</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># USER_OPS_INDEXER__INDEXER__RPC_URL=$&#123;USER_OPS_INDEXER__INDEXER__RPC_URL:ws://host.docker.internal:8545/&#125;</span></span><br><span class="line"><span class="comment"># USER_OPS_INDEXER__DATABASE__CONNECT__URL=$&#123;USER_OPS_INDEXER__DATABASE__CONNECT__URL:postgresql://blockscout:ceWb1MeLBEeOIfk65gU8EjF8@db:5432/blockscout&#125;</span></span><br><span class="line"></span><br><span class="line">USER_OPS_INDEXER__INDEXER__RPC_URL=<span class="variable">$&#123;USER_OPS_INDEXER__INDEXER__RPC_URL:-ws://YourIPADDR:8546/&#125;</span></span><br><span class="line">STATS__BLOCKSCOUT_DB_URL=<span class="variable">$&#123;STATS__BLOCKSCOUT_DB_URL:postgresql://YOUR_DBUSER_NAME:YourSecurePassword@YourIPADDR:5432/blockscout&#125;</span></span><br></pre></td></tr></table></figure><h3 id="3-3-åˆ é™¤-explorer-conf-template"><a href="#3-3-åˆ é™¤-explorer-conf-template" class="headerlink" title="3.3 åˆ é™¤ explorer.conf.template"></a>3.3 åˆ é™¤ explorer.conf.template</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ../proxy</span><br><span class="line"><span class="built_in">mv</span> explorer.conf.template explorer.conf.template.backup</span><br></pre></td></tr></table></figure><h3 id="3-4-ä¿®æ”¹-common-stats-yml"><a href="#3-4-ä¿®æ”¹-common-stats-yml" class="headerlink" title="3.4 ä¿®æ”¹ common-stats.yml"></a>3.4 ä¿®æ”¹ common-stats.yml</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ../envs</span><br><span class="line">nano common-stats.env</span><br></pre></td></tr></table></figure><p>å°† <code>common-stats.yml</code> çš„ç¬¬ <strong>29</strong> è¡Œä¿®æ”¹ä¸ºè‡ªå·±çš„åç«¯æœåŠ¡</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># STATS__BLOCKSCOUT_API_URL=http://host.docker.internal</span></span><br><span class="line">STATS__BLOCKSCOUT_API_URL=http://YourIPADDR:4000</span><br></pre></td></tr></table></figure><h3 id="3-5-å¯åŠ¨å†…ç½®å¾®æœåŠ¡"><a href="#3-5-å¯åŠ¨å†…ç½®å¾®æœåŠ¡" class="headerlink" title="3.5 å¯åŠ¨å†…ç½®å¾®æœåŠ¡"></a>3.5 å¯åŠ¨å†…ç½®å¾®æœåŠ¡</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ..</span><br><span class="line">docker-compose -f microservices.yml up -d</span><br><span class="line">docker ps</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶å¦‚æœ <code>layer2</code> æ˜¯å¯åŠ¨çŠ¶æ€ï¼Œæ‰€æœ‰å¾®æœåŠ¡éƒ½åº”è¯¥å¯åŠ¨æˆåŠŸï¼Œå¦‚æœå¤±è´¥æŸ¥çœ‹ logs <code>docker logs ServiceName</code></p><p><img src="/images/2025/microservice.png" alt="microservice"></p><h3 id="3-6-å¯åŠ¨åç«¯æœåŠ¡"><a href="#3-6-å¯åŠ¨åç«¯æœåŠ¡" class="headerlink" title="3.6 å¯åŠ¨åç«¯æœåŠ¡"></a>3.6 å¯åŠ¨åç«¯æœåŠ¡</h3><p>è¿”å› <code>blockscout-backend</code> æ ¹ç›®å½•å¹¶å¯åŠ¨ Phoenix æœåŠ¡å™¨</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/blockscout/backend/</span><br><span class="line">mix phx.server</span><br></pre></td></tr></table></figure><p>åç«¯åº”è¿è¡Œåœ¨ <code>http://localhost:4000</code>ï¼ˆæˆ–é…ç½®çš„åŸŸåï¼‰</p><p><img src="/images/2025/backend.png" alt="backend"></p><h2 id="å››ã€æ„å»º-Blockscout-Frontend"><a href="#å››ã€æ„å»º-Blockscout-Frontend" class="headerlink" title="å››ã€æ„å»º Blockscout Frontend"></a>å››ã€æ„å»º Blockscout Frontend</h2><h3 id="4-1-å…‹éš†-Blockscout-Frontend-ä»“åº“"><a href="#4-1-å…‹éš†-Blockscout-Frontend-ä»“åº“" class="headerlink" title="4.1 å…‹éš† Blockscout Frontend ä»“åº“"></a>4.1 å…‹éš† Blockscout Frontend ä»“åº“</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å…‹éš† blockscout frontend å¹¶åˆ‡æ¢åˆ°æœ€æ–° release åˆ†æ”¯</span></span><br><span class="line"><span class="built_in">cd</span> ~/blockscout</span><br><span class="line">git <span class="built_in">clone</span> https://github.com/blockscout/frontend.git frontend</span><br><span class="line"><span class="built_in">cd</span> frontend</span><br><span class="line">git checkout v2.3.2 -b v2.3.2</span><br></pre></td></tr></table></figure><p>åœ¨ <code>frontend</code> ç›®å½•ä¸‹æ–°å»º <code>.tool-versions</code> æ–‡ä»¶å¹¶å†™å…¥ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nodejs 22.11.0</span><br></pre></td></tr></table></figure><h3 id="4-2-åœ¨-configs-envs-ä¸æ ¹ç›®å½•ä¸‹åˆ†åˆ«åˆ›å»º-env-namepreset-å’Œ-env-æ–‡ä»¶"><a href="#4-2-åœ¨-configs-envs-ä¸æ ¹ç›®å½•ä¸‹åˆ†åˆ«åˆ›å»º-env-namepreset-å’Œ-env-æ–‡ä»¶" class="headerlink" title="4.2 åœ¨ configs&#x2F;envs ä¸æ ¹ç›®å½•ä¸‹åˆ†åˆ«åˆ›å»º .env.namepreset å’Œ .env æ–‡ä»¶"></a>4.2 åœ¨ configs&#x2F;envs ä¸æ ¹ç›®å½•ä¸‹åˆ†åˆ«åˆ›å»º .env.namepreset å’Œ .env æ–‡ä»¶</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åº”ç”¨åŸºç¡€é…ç½®</span></span><br><span class="line">NEXT_PUBLIC_APP_HOST=localhost</span><br><span class="line">NEXT_PUBLIC_APP_PORT=3000</span><br><span class="line">NEXT_PUBLIC_APP_INSTANCE=localhost</span><br><span class="line">NEXT_PUBLIC_APP_ENV=development</span><br><span class="line"></span><br><span class="line">NEXT_PUBLIC_API_HOST=localhost</span><br><span class="line">NEXT_PUBLIC_API_PORT=4000</span><br><span class="line">NEXT_PUBLIC_API_PROTOCOL=http</span><br><span class="line">NEXT_PUBLIC_API_WEBSOCKET_PROTOCOL=<span class="string">&#x27;ws&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¾®æœåŠ¡é…ç½®</span></span><br><span class="line">NEXT_PUBLIC_STATS_API_HOST=http://localhost:8080</span><br><span class="line">NEXT_PUBLIC_VISUALIZE_API_HOST=http://localhost:8081</span><br><span class="line"></span><br><span class="line"><span class="comment"># é¦–é¡µå†…å®¹é…ç½®</span></span><br><span class="line">NEXT_PUBLIC_HOMEPAGE_CHARTS=[<span class="string">&#x27;daily_txs&#x27;</span>, <span class="string">&#x27;coin_price&#x27;</span>, <span class="string">&#x27;market_cap&#x27;</span>]</span><br><span class="line">NEXT_PUBLIC_HOMEPAGE_HERO_BANNER_CONFIG=&#123;<span class="string">&quot;background&quot;</span>:[<span class="string">&quot;rgba(27, 74, 221, 1)&quot;</span>]&#125;</span><br><span class="line">NEXT_PUBLIC_HOMEPAGE_STATS=[<span class="string">&#x27;total_blocks&#x27;</span>,<span class="string">&#x27;average_block_time&#x27;</span>,<span class="string">&#x27;total_txs&#x27;</span>,<span class="string">&#x27;wallet_addresses&#x27;</span>,<span class="string">&#x27;gas_tracker&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¹¿å‘Šé…ç½®</span></span><br><span class="line">NEXT_PUBLIC_AD_BANNER_PROVIDER=none</span><br><span class="line">NEXT_PUBLIC_AD_TEXT_PROVIDER=none</span><br><span class="line"></span><br><span class="line"><span class="comment"># åŒºå—é“¾ç½‘ç»œé…ç½®</span></span><br><span class="line">NEXT_PUBLIC_NETWORK_NAME=<span class="string">&quot;YangFan&quot;</span></span><br><span class="line">NEXT_PUBLIC_NETWORK_ID=L2_CHAIN_ID</span><br><span class="line">NEXT_PUBLIC_NETWORK_CURRENCY_NAME=<span class="string">&quot;Sepolia ETH&quot;</span></span><br><span class="line">NEXT_PUBLIC_NETWORK_CURRENCY_SYMBOL=<span class="string">&quot;ETH&quot;</span></span><br><span class="line">NEXT_PUBLIC_NETWORK_CURRENCY_DECIMALS=18</span><br></pre></td></tr></table></figure><h3 id="4-3-å¯åŠ¨å‰ç«¯æœåŠ¡"><a href="#4-3-å¯åŠ¨å‰ç«¯æœåŠ¡" class="headerlink" title="4.3 å¯åŠ¨å‰ç«¯æœåŠ¡"></a>4.3 å¯åŠ¨å‰ç«¯æœåŠ¡</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®‰è£…é¡¹ç›®ä¾èµ–å¹¶å¯åŠ¨å‰ç«¯è°ƒè¯•</span></span><br><span class="line">yarn install</span><br><span class="line">yarn dev:preset namepreset</span><br><span class="line"></span><br><span class="line"><span class="comment"># è°ƒè¯•å®Œæˆåå¯åŠ¨æœåŠ¡</span></span><br><span class="line">yarn build</span><br><span class="line">yarn start</span><br></pre></td></tr></table></figure><p>åç«¯åº”è¿è¡Œåœ¨ <code>http://localhost:3000</code>ï¼ˆæˆ–é…ç½®çš„åŸŸåï¼‰</p><p><img src="/images/2025/frontend.png" alt="frontend"></p><p><strong>Hoorayï¼Blockscout éƒ¨ç½²æˆåŠŸï¼ï¼ï¼</strong></p><h2 id="äº”ã€æ•…éšœæ’æŸ¥"><a href="#äº”ã€æ•…éšœæ’æŸ¥" class="headerlink" title="äº”ã€æ•…éšœæ’æŸ¥"></a>äº”ã€æ•…éšœæ’æŸ¥</h2><h3 id="5-1-æ•°æ®åº“æœ€å¤§è¿æ¥æ•°é™åˆ¶"><a href="#5-1-æ•°æ®åº“æœ€å¤§è¿æ¥æ•°é™åˆ¶" class="headerlink" title="5.1 æ•°æ®åº“æœ€å¤§è¿æ¥æ•°é™åˆ¶"></a>5.1 æ•°æ®åº“æœ€å¤§è¿æ¥æ•°é™åˆ¶</h3><p><code>PostgreSQL</code> çš„é»˜è®¤æœ€å¤§è¿æ¥æ•°ï¼ˆmax_connectionsï¼‰é€šå¸¸ä¸º <strong>100</strong>ï¼ŒBlockscout åç«¯å’Œå¤šä¸ªå¾®æœåŠ¡ä¼šåˆ›å»ºå¤§é‡æ•°æ®åº“è¿æ¥ï¼Œå ç”¨äº†æ‰€æœ‰å¯ç”¨è¿æ¥æ§½ã€‚æ­¤æ—¶ä¼šé‡åˆ°ï¼š<code>FATAL: sorry, too many clients already</code> ä¹‹ç±»çš„é”™è¯¯ï¼Œæ­¤æ—¶éœ€è¦ä¿®æ”¹æ•°æ®åº“é»˜è®¤æœ€å¤§è¿æ¥æ•°</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> nano /etc/postgresql/*/main/postgresql.conf</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">max_connections = 500</span><br></pre></td></tr></table></figure><p>æ›´æ”¹åéœ€è¦é‡å¯ <code>PostgreSQL</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> systemctl restart postgresql</span><br></pre></td></tr></table></figure><h3 id="5-2-JavaScript-heap-out-of-memory"><a href="#5-2-JavaScript-heap-out-of-memory" class="headerlink" title="5.2 JavaScript heap out of memory"></a>5.2 JavaScript heap out of memory</h3><p><code>yarn build</code> æ—¶å¯èƒ½ä¼šé‡åˆ° <code>JavaScript</code> å†…å­˜æº¢å‡ºï¼Œæ­¤æ—¶éœ€è¦åŠ è½½ç¯å¢ƒå˜é‡ <code>NODE_OPTIONS</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> NODE_OPTIONS=<span class="string">&quot;--max-old-space-size=4096&quot;</span></span><br></pre></td></tr></table></figure><h3 id="5-3-åç«¯è¿æ¥æ•°æ®åº“å¤±è´¥"><a href="#5-3-åç«¯è¿æ¥æ•°æ®åº“å¤±è´¥" class="headerlink" title="5.3 åç«¯è¿æ¥æ•°æ®åº“å¤±è´¥"></a>5.3 åç«¯è¿æ¥æ•°æ®åº“å¤±è´¥</h3><p>åœ¨ç”¨æˆ·åå’Œå¯†ç éƒ½æ­£ç¡®çš„å‰æä¸‹æ•°æ®åº“è¿æ¥å¤±è´¥ï¼Œå¯èƒ½æ—¶å› ä¸º <code>PostgreSQL</code> æ•°æ®åº“çš„è®¤è¯é…ç½®é™åˆ¶äº†å¯†ç è®¤è¯æ–¹å¼</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> nano /etc/postgresql/17/main/pg_hba.conf</span><br></pre></td></tr></table></figure><p>åœ¨ <code># IPv4 local connections:</code>ä¸‹æ·»åŠ </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">host    all             all             0.0.0.0/0               scram-sha-256</span><br></pre></td></tr></table></figure><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><ul><li>Blockscout å®˜æ–¹æ–‡æ¡£: <a href="https://docs.blockscout.com/setup/deployment/manual-deployment-guide">https://docs.blockscout.com/setup/deployment/manual-deployment-guide</a></li><li>å‰ç«¯ä»“åº“: <a href="https://github.com/blockscout/frontend">https://github.com/blockscout/frontend</a></li><li>åç«¯ä»“åº“: <a href="https://github.com/blockscout/blockscout">https://github.com/blockscout/blockscout</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Blockscout </tag>
            
            <tag> Layer2 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Layer2 â€”â€” OP Stack éƒ¨ç½²æŒ‡å—</title>
      <link href="/2025/09/15/op-stack-deployment-part1/"/>
      <url>/2025/09/15/op-stack-deployment-part1/</url>
      
        <content type="html"><![CDATA[<h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><p>OP Stack æ˜¯ Optimism å¼€å‘çš„æ¨¡å—åŒ–åŒºå—é“¾æŠ€æœ¯æ ˆï¼Œå…è®¸å¼€å‘è€…è½»æ¾åˆ›å»ºè‡ªå·±çš„ Layer2 ç½‘ç»œã€‚æœ¬æŒ‡å—æä¾›äº†åœ¨ Ubuntu ç¯å¢ƒä¸‹ä»é›¶å¼€å§‹æ­å»ºä¸€ä¸ªå®Œæ•´çš„ Layer2 ç½‘ç»œï¼ŒåŒ…æ‹¬ç¯å¢ƒé…ç½®ã€åˆçº¦éƒ¨ç½²ã€èŠ‚ç‚¹å¯åŠ¨å’ŒåŸºæœ¬æ“ä½œéªŒè¯ã€‚</p><h2 id="ä¸€ã€å‡†å¤‡ç³»ç»Ÿç¯å¢ƒ"><a href="#ä¸€ã€å‡†å¤‡ç³»ç»Ÿç¯å¢ƒ" class="headerlink" title="ä¸€ã€å‡†å¤‡ç³»ç»Ÿç¯å¢ƒ"></a>ä¸€ã€å‡†å¤‡ç³»ç»Ÿç¯å¢ƒ</h2><h3 id="1-1-å®‰è£…-Ubuntu"><a href="#1-1-å®‰è£…-Ubuntu" class="headerlink" title="1.1 å®‰è£… Ubuntu"></a>1.1 å®‰è£… Ubuntu</h3><p>æ‰“å¼€ Windows PowerShell ç»ˆç«¯</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹å¯ç”¨çš„ Ubuntu å‘è¡Œç‰ˆ</span></span><br><span class="line">wsl <span class="literal">--list</span> <span class="literal">--online</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„ Ubuntu</span></span><br><span class="line">wsl <span class="literal">--install</span> <span class="literal">-d</span> Ubuntu<span class="literal">-24</span>.<span class="number">04</span></span><br></pre></td></tr></table></figure><h3 id="1-2-å®‰è£…è½¯ä»¶ä¾èµ–"><a href="#1-2-å®‰è£…è½¯ä»¶ä¾èµ–" class="headerlink" title="1.2 å®‰è£…è½¯ä»¶ä¾èµ–"></a>1.2 å®‰è£…è½¯ä»¶ä¾èµ–</h3><p>æ‰“å¼€ Ubuntu-24.04 å­ç³»ç»Ÿï¼ˆåœ¨å®‰è£… pnpm å’Œ mise æ—¶ï¼Œéœ€ä¿®æ”¹è‡ªå·±ç¯å¢ƒå˜é‡åŠ è½½çš„è·¯å¾„ï¼‰</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ›´æ–°ç³»ç»Ÿ</span></span><br><span class="line"><span class="built_in">sudo</span> apt update &amp;&amp; <span class="built_in">sudo</span> apt upgrade -y</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£…åŸºç¡€ä¾èµ–</span></span><br><span class="line"><span class="built_in">sudo</span> apt install -y curl wget git build-essential</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£… go</span></span><br><span class="line">wget https://go.dev/dl/go1.25.0.linux-amd64.tar.gz</span><br><span class="line"><span class="built_in">sudo</span> tar -C /usr/local -xzf go1.25.0.linux-amd64.tar.gz</span><br><span class="line"><span class="built_in">rm</span> go1.25.0.linux-amd64.tar.gz</span><br><span class="line"><span class="built_in">echo</span> -e <span class="string">&#x27;\n# Go Language\nexport PATH=$PATH:/usr/local/go/bin&#x27;</span> &gt;&gt; ~/.bashrc</span><br><span class="line"><span class="built_in">source</span> ~/.bashrc</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£… node.js</span></span><br><span class="line">curl -fsSL https://deb.nodesource.com/setup_22.x | <span class="built_in">sudo</span> -E bash -</span><br><span class="line"><span class="built_in">sudo</span> apt-get install -y nodejs</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£… pnpm</span></span><br><span class="line">curl -fsSL https://get.pnpm.io/install.sh | sh</span><br><span class="line"><span class="built_in">source</span> /home/eth/.bashrc</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£… foundry</span></span><br><span class="line">curl -L https://foundry.paradigm.xyz | bash</span><br><span class="line"><span class="built_in">source</span> ~/.bashrc</span><br><span class="line">~/.foundry/bin/foundryup</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£… make</span></span><br><span class="line"><span class="built_in">sudo</span> apt install -y make</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£… jq</span></span><br><span class="line"><span class="built_in">sudo</span> apt install -y jq</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£… direnv</span></span><br><span class="line"><span class="built_in">sudo</span> apt install -y direnv</span><br><span class="line"><span class="built_in">echo</span> -e <span class="string">&#x27;\n# Direnv hook\neval &quot;$(direnv hook bash)&quot;&#x27;</span> &gt;&gt; ~/.bashrc</span><br><span class="line"><span class="built_in">source</span> ~/.bashrc</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£… just</span></span><br><span class="line">curl --proto <span class="string">&#x27;=https&#x27;</span> --tlsv1.2 -sSf https://sh.rustup.rs | sh -s -- -y</span><br><span class="line">. <span class="string">&quot;<span class="variable">$HOME</span>/.cargo/env&quot;</span></span><br><span class="line">cargo install just</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£… mise</span></span><br><span class="line">curl https://mise.run | sh</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;eval \&quot;\$(/home/eth/.local/bin/mise activate bash)\&quot;&quot;</span> &gt;&gt; ~/.bashrc</span><br><span class="line"><span class="built_in">source</span> ~/.bashrc</span><br></pre></td></tr></table></figure><h3 id="1-3-éªŒè¯å®‰è£…"><a href="#1-3-éªŒè¯å®‰è£…" class="headerlink" title="1.3 éªŒè¯å®‰è£…"></a>1.3 éªŒè¯å®‰è£…</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ£€æŸ¥æ‰€éœ€è½¯ä»¶ä¾èµ–æ˜¯å¦æ­£ç¡®å®‰è£…</span></span><br><span class="line">git --version<span class="comment"># git version 2.43.0</span></span><br><span class="line">go version        <span class="comment"># go version go1.25.0 linux/amd64</span></span><br><span class="line">node --version <span class="comment"># v22.19.0</span></span><br><span class="line">pnpm --version<span class="comment"># 10.16.1</span></span><br><span class="line">forge --version<span class="comment"># forge Version: 1.3.5-stable</span></span><br><span class="line">make --version<span class="comment"># GNU Make 4.3</span></span><br><span class="line">jq --version<span class="comment"># jq-1.7</span></span><br><span class="line">direnv --version<span class="comment"># 2.32.1</span></span><br><span class="line">rustc --version<span class="comment"># rustc 1.89.0 (29483883e 2025-08-04)</span></span><br><span class="line">just --version<span class="comment"># just 1.42.4</span></span><br><span class="line">mise --version<span class="comment"># 2025.9.10 linux-x64 (2025-09-13)</span></span><br></pre></td></tr></table></figure><h2 id="äºŒã€è·å–-Sepolia-æµ‹è¯•ç½‘èµ„æº"><a href="#äºŒã€è·å–-Sepolia-æµ‹è¯•ç½‘èµ„æº" class="headerlink" title="äºŒã€è·å– Sepolia æµ‹è¯•ç½‘èµ„æº"></a>äºŒã€è·å– Sepolia æµ‹è¯•ç½‘èµ„æº</h2><h3 id="2-1-è·å–-Sepolia-RPC-URL"><a href="#2-1-è·å–-Sepolia-RPC-URL" class="headerlink" title="2.1 è·å– Sepolia RPC URL"></a>2.1 è·å– Sepolia RPC URL</h3><p>ä»ä»¥ä¸‹æœåŠ¡ä¹‹ä¸€è·å– Sepolia RPC URL:</p><ul><li><a href="https://www.alchemy.com/">Alchemy</a>ï¼ˆæ¨èï¼‰</li><li><a href="https://www.quicknode.com/">QuickNode</a></li><li><a href="https://zan.top/">ZAN</a></li></ul><h3 id="2-2-è·å–æµ‹è¯•-ETH"><a href="#2-2-è·å–æµ‹è¯•-ETH" class="headerlink" title="2.2 è·å–æµ‹è¯• ETH"></a>2.2 è·å–æµ‹è¯• ETH</h3><p>åœ¨ä»¥ä¸‹é“¾æ¥ä¸­è·å–æµ‹è¯•å¸ SepoliaETHã€‚</p><ul><li><a href="https://console.optimism.io/faucet">Superchain Faucet</a></li><li><a href="https://cloud.google.com/application/web3/faucet/ethereum/sepolia">Google Ethereum Sepolia Faucet</a></li><li><a href="https://www.alchemy.com/faucets/ethereum-sepolia">Alchemy Ethereum Sepolia Faucet</a></li></ul><h2 id="ä¸‰ã€æ„å»º-OP-Stack-ç»„ä»¶"><a href="#ä¸‰ã€æ„å»º-OP-Stack-ç»„ä»¶" class="headerlink" title="ä¸‰ã€æ„å»º OP-Stack ç»„ä»¶"></a>ä¸‰ã€æ„å»º OP-Stack ç»„ä»¶</h2><h3 id="3-1-å…‹éš†-optimism-å’Œ-op-geth-ä»“åº“"><a href="#3-1-å…‹éš†-optimism-å’Œ-op-geth-ä»“åº“" class="headerlink" title="3.1 å…‹éš† optimism å’Œ op-geth ä»“åº“"></a>3.1 å…‹éš† optimism å’Œ op-geth ä»“åº“</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å…‹éš† optimism å¹¶åˆ‡æ¢åˆ°æœ€æ–° release åˆ†æ”¯</span></span><br><span class="line"><span class="built_in">cd</span> ~</span><br><span class="line">git <span class="built_in">clone</span> https://github.com/ethereum-optimism/optimism.git</span><br><span class="line"><span class="built_in">cd</span> optimism</span><br><span class="line">git checkout v1.13.6 -b v1.13.6</span><br><span class="line"></span><br><span class="line"><span class="comment"># å…‹éš† op-geth åˆ° optimism ç›®å½•ä¸‹å¹¶åˆ‡æ¢åˆ°æœ€æ–° release åˆ†æ”¯</span></span><br><span class="line">git <span class="built_in">clone</span> https://github.com/ethereum-optimism/op-geth.git</span><br><span class="line"><span class="built_in">cd</span> op-geth</span><br><span class="line">git checkout v1.101602.0 -b v1.101602.0</span><br></pre></td></tr></table></figure><h3 id="3-2-æ„å»º-op-gethï¼Œop-nodeï¼Œop-batcherï¼Œop-proposer"><a href="#3-2-æ„å»º-op-gethï¼Œop-nodeï¼Œop-batcherï¼Œop-proposer" class="headerlink" title="3.2 æ„å»º op-gethï¼Œop-nodeï¼Œop-batcherï¼Œop-proposer"></a>3.2 æ„å»º op-gethï¼Œop-nodeï¼Œop-batcherï¼Œop-proposer</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/optimism/op-geth</span><br><span class="line">make geth</span><br><span class="line"></span><br><span class="line"><span class="built_in">cd</span> ..</span><br><span class="line">make op-node op-batcher op-proposer</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ£€æŸ¥ç»„ä»¶æ˜¯å¦æ„å»ºæˆåŠŸ</span></span><br><span class="line">./op-geth/build/bin/geth --version</span><br><span class="line">./op-node/bin/op-node --version</span><br><span class="line">./op-batcher/bin/op-batcher --version</span><br><span class="line">./op-proposer/bin/op-proposer --version</span><br></pre></td></tr></table></figure><h2 id="å››ã€é…ç½®ç¯å¢ƒå˜é‡"><a href="#å››ã€é…ç½®ç¯å¢ƒå˜é‡" class="headerlink" title="å››ã€é…ç½®ç¯å¢ƒå˜é‡"></a>å››ã€é…ç½®ç¯å¢ƒå˜é‡</h2><h3 id="4-1-ç”Ÿæˆè´¦æˆ·"><a href="#4-1-ç”Ÿæˆè´¦æˆ·" class="headerlink" title="4.1 ç”Ÿæˆè´¦æˆ·"></a>4.1 ç”Ÿæˆè´¦æˆ·</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/optimism</span><br><span class="line">./packages/contracts-bedrock/scripts/getting-started/wallets.sh</span><br></pre></td></tr></table></figure><p>æ­¤å‘½ä»¤ä¼šç”Ÿæˆäº”ä¸ªåœ°å€åŠå…¶ç§é’¥ï¼š</p><ul><li><code>Admin</code>ï¼ˆç®¡ç†å‘˜ï¼‰</li><li><code>Batcher</code>ï¼ˆæ‰¹å¤„ç†è€…ï¼‰</li><li><code>Proposer</code>ï¼ˆæè®®è€…ï¼‰</li><li><code>Sequencer</code>ï¼ˆæ’åºè€…ï¼‰</li><li><code>Challenger</code>ï¼ˆæŒ‘æˆ˜è€…ï¼‰</li></ul><h3 id="4-2-ç¼–è¾‘ç¯å¢ƒå˜é‡æ–‡ä»¶"><a href="#4-2-ç¼–è¾‘ç¯å¢ƒå˜é‡æ–‡ä»¶" class="headerlink" title="4.2 ç¼–è¾‘ç¯å¢ƒå˜é‡æ–‡ä»¶"></a>4.2 ç¼–è¾‘ç¯å¢ƒå˜é‡æ–‡ä»¶</h3><p>åˆ›å»º<code>.envrc</code> æ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nano .envrc</span><br></pre></td></tr></table></figure><p>å¡«å†™ä»¥ä¸‹å˜é‡ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Admin account</span></span><br><span class="line"><span class="built_in">export</span> GS_ADMIN_ADDRESS=</span><br><span class="line"><span class="built_in">export</span> GS_ADMIN_PRIVATE_KEY=</span><br><span class="line"></span><br><span class="line"><span class="comment"># Batcher account</span></span><br><span class="line"><span class="built_in">export</span> GS_BATCHER_ADDRESS=</span><br><span class="line"><span class="built_in">export</span> GS_BATCHER_PRIVATE_KEY=</span><br><span class="line"></span><br><span class="line"><span class="comment"># Proposer account</span></span><br><span class="line"><span class="built_in">export</span> GS_PROPOSER_ADDRESS=</span><br><span class="line"><span class="built_in">export</span> GS_PROPOSER_PRIVATE_KEY=</span><br><span class="line"></span><br><span class="line"><span class="comment"># Sequencer account</span></span><br><span class="line"><span class="built_in">export</span> GS_SEQUENCER_ADDRESS=</span><br><span class="line"><span class="built_in">export</span> GS_SEQUENCER_PRIVATE_KEY=</span><br><span class="line"></span><br><span class="line"><span class="comment"># Challenger account</span></span><br><span class="line"><span class="built_in">export</span> GS_CHALLENGER_ADDRESS=</span><br><span class="line"><span class="built_in">export</span> GS_CHALLENGER_PRIVATE_KEY=</span><br><span class="line"></span><br><span class="line"><span class="comment">##################################################</span></span><br><span class="line"><span class="comment">#            Layer1 RPC Configuration            #</span></span><br><span class="line"><span class="comment">##################################################</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># RPC URL for the L1 network to interact with</span></span><br><span class="line"><span class="built_in">export</span> L1_RPC_URL=</span><br><span class="line"><span class="built_in">export</span> L1_BEACON_URL=<span class="string">&quot;https://ethereum-sepolia-beacon-api.publicnode.com&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The kind of RPC provider, used to inform optimal transactions receipts</span></span><br><span class="line"><span class="comment"># fetching. Valid options: alchemy, quicknode, infura, parity, nethermind,</span></span><br><span class="line"><span class="comment"># debug_geth, erigon, basic, any.</span></span><br><span class="line"><span class="built_in">export</span> L1_RPC_KIND=</span><br><span class="line"></span><br><span class="line"><span class="comment">##################################################</span></span><br><span class="line"><span class="comment">#               Chain Configuration              #</span></span><br><span class="line"><span class="comment">##################################################</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The unique chain ID of the Layer 1 network(e.g., Sepolia = 11155111)</span></span><br><span class="line"><span class="built_in">export</span> L1_CHAIN_ID=11155111</span><br><span class="line"><span class="comment"># The unique chain ID you assign to your Layer 2 network (custom value)</span></span><br><span class="line"><span class="built_in">export</span> L2_CHAIN_ID=</span><br><span class="line"><span class="comment"># The average block time of the Layer 1 network (in seconds)</span></span><br><span class="line"><span class="built_in">export</span> L1_BLOCK_TIME=12</span><br><span class="line"><span class="comment"># The block time you configure for your Layer 2 network (in seconds)</span></span><br><span class="line"><span class="built_in">export</span> L2_BLOCK_TIME=2</span><br></pre></td></tr></table></figure><p>ä¿å­˜æ–‡ä»¶(Ctrl+O, Enter, Ctrl+X)</p><h3 id="4-3-åŠ è½½ç¯å¢ƒå˜é‡"><a href="#4-3-åŠ è½½ç¯å¢ƒå˜é‡" class="headerlink" title="4.3 åŠ è½½ç¯å¢ƒå˜é‡"></a>4.3 åŠ è½½ç¯å¢ƒå˜é‡</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">direnv allow</span><br></pre></td></tr></table></figure><p>éªŒè¯ç¯å¢ƒå˜é‡æ˜¯å¦åŠ è½½</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;=== ç¯å¢ƒå˜é‡æ£€æŸ¥ ===&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;GS_ADMIN_ADDRESS: <span class="variable">$GS_ADMIN_ADDRESS</span>&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;GS_BATCHER_ADDRESS: <span class="variable">$GS_BATCHER_ADDRESS</span>&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;GS_PROPOSER_ADDRESS: <span class="variable">$GS_PROPOSER_ADDRESS</span>&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;GS_SEQUENCER_ADDRESS: <span class="variable">$GS_SEQUENCER_ADDRESS</span>&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;GS_CHALLENGER_ADDRESS: <span class="variable">$GS_CHALLENGER_ADDRESS</span>&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;L1_RPC_KIND: <span class="variable">$L1_RPC_KIND</span>&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;L1_RPC_URL: <span class="variable">$L1_RPC_URL</span>&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;L1_BEACON_URL: <span class="variable">$L1_BEACON_URL</span>&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;L1_CHAIN_ID: <span class="variable">$L1_CHAIN_ID</span>&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;L2_CHAIN_ID: <span class="variable">$L2_CHAIN_ID</span>&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;L1_BLOCK_TIME: <span class="variable">$L1_BLOCK_TIME</span>&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;L2_BLOCK_TIME: <span class="variable">$L2_BLOCK_TIME</span>&quot;</span></span><br></pre></td></tr></table></figure><h3 id="4-4-ä¸ºè´¦æˆ·å……å€¼"><a href="#4-4-ä¸ºè´¦æˆ·å……å€¼" class="headerlink" title="4.4 ä¸ºè´¦æˆ·å……å€¼"></a>4.4 ä¸ºè´¦æˆ·å……å€¼</h3><p>ä¸ºä»¥ä¸‹åœ°å€å……å€¼ SepoliaETHï¼š</p><ul><li><code>Admin</code> â€” 0.5 SepoliaETH</li><li><code>Batcher</code> â€” 0.1 SepoliaETH</li><li><code>Proposer</code> â€” 0.2 SepoliaETH</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹è´¦æˆ·ä½™é¢</span></span><br><span class="line">cast balance <span class="variable">$GS_ADMIN_ADDRESS</span> --rpc-url <span class="variable">$L1_RPC_URL</span></span><br><span class="line">cast balance <span class="variable">$GS_BATCHER_ADDRESS</span> --rpc-url <span class="variable">$L1_RPC_URL</span></span><br><span class="line">cast balance <span class="variable">$GS_PROPOSER_ADDRESS</span> --rpc-url <span class="variable">$L1_RPC_URL</span></span><br></pre></td></tr></table></figure><h2 id="äº”ã€éƒ¨ç½²-L1-åˆçº¦"><a href="#äº”ã€éƒ¨ç½²-L1-åˆçº¦" class="headerlink" title="äº”ã€éƒ¨ç½² L1 åˆçº¦"></a>äº”ã€éƒ¨ç½² L1 åˆçº¦</h2><h3 id="5-1-è·å–-op-deployer"><a href="#5-1-è·å–-op-deployer" class="headerlink" title="5.1 è·å– op-deployer"></a>5.1 è·å– op-deployer</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/optimism</span><br><span class="line"><span class="built_in">mkdir</span> -p bin</span><br><span class="line">wget https://github.com/ethereum-optimism/optimism/releases/download/op-deployer%2Fv0.2.6/op-deployer-0.2.6-linux-amd64.tar.gz</span><br><span class="line"><span class="built_in">sudo</span> tar -C ./bin -xzf op-deployer-0.2.6-linux-amd64.tar.gz --strip-components=1</span><br><span class="line"><span class="built_in">rm</span> op-deployer-0.2.6-linux-amd64.tar.gz</span><br><span class="line"></span><br><span class="line"><span class="comment"># éªŒè¯æ˜¯å¦ä¸‹è½½è§£å‹æˆåŠŸ</span></span><br><span class="line">./bin/op-deployer --version</span><br></pre></td></tr></table></figure><h3 id="5-2-åˆå§‹åŒ–-op-deployer-é…ç½®"><a href="#5-2-åˆå§‹åŒ–-op-deployer-é…ç½®" class="headerlink" title="5.2 åˆå§‹åŒ– op-deployer é…ç½®"></a>5.2 åˆå§‹åŒ– op-deployer é…ç½®</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> -p ~/.deployer</span><br><span class="line">./bin/op-deployer init --l1-chain-id <span class="variable">$L1_CHAIN_ID</span> --l2-chain-ids <span class="variable">$L2_CHAIN_ID</span> --workdir .deployer</span><br></pre></td></tr></table></figure><p>æ­¤å‘½ä»¤ä¼šç”Ÿæˆ <code>intend.json</code> å’Œ <code>state.json</code></p><h3 id="5-3-ä¿®æ”¹-intend-json-é…ç½®"><a href="#5-3-ä¿®æ”¹-intend-json-é…ç½®" class="headerlink" title="5.3 ä¿®æ”¹ intend.json é…ç½®"></a>5.3 ä¿®æ”¹ intend.json é…ç½®</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nano .deployer/intent.toml</span><br></pre></td></tr></table></figure><p>ç¡®ä¿é…ç½®ä¸­åŒ…å«ä»¥ä¸‹å†…å®¹å¹¶æ›¿æ¢ç›¸åº”çš„åœ°å€ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">configType = <span class="string">&quot;standard&quot;</span></span><br><span class="line">l1ChainID = 11155111</span><br><span class="line">opcmAddress = <span class="string">&quot;0x6b6f9129efb1b7a48f84e3b787333d1dca02ee34&quot;</span><span class="comment"># L1 ä¸Šçš„ OP Chain Manager åˆçº¦åœ°å€</span></span><br><span class="line">fundDevAccounts = <span class="literal">false</span></span><br><span class="line">useInterop = <span class="literal">false</span></span><br><span class="line">l1ContractsLocator = <span class="string">&quot;tag://op-contracts/v2.2.0&quot;</span></span><br><span class="line">l2ContractsLocator = <span class="string">&quot;tag://op-contracts/v1.7.0-beta.1+l2-contracts&quot;</span></span><br><span class="line"></span><br><span class="line">[[chains]]</span><br><span class="line">  <span class="built_in">id</span> = <span class="string">&quot;0x00000000000000000000000000000000000000000000000000000000004f5da2&quot;</span><span class="comment"># L2_CHAIN_ID çš„åå…­è¿›åˆ¶</span></span><br><span class="line">  baseFeeVaultRecipient = <span class="string">&quot;YOUR_ADMIN_ADDRESS&quot;</span></span><br><span class="line">  l1FeeVaultRecipient = <span class="string">&quot;YOUR_ADMIN_ADDRESS&quot;</span></span><br><span class="line">  sequencerFeeVaultRecipient = <span class="string">&quot;YOUR_ADMIN_ADDRESS&quot;</span></span><br><span class="line">  eip1559DenominatorCanyon = 250</span><br><span class="line">  eip1559Denominator = 50</span><br><span class="line">  eip1559Elasticity = 6</span><br><span class="line">  [chains.roles]</span><br><span class="line">    l1ProxyAdminOwner = <span class="string">&quot;0x1eb2ffc903729a0f03966b917003800b145f56e2&quot;</span></span><br><span class="line">    l2ProxyAdminOwner = <span class="string">&quot;0x2fc3ffc903729a0f03966b917003800b145f67f3&quot;</span></span><br><span class="line">    systemConfigOwner = <span class="string">&quot;YOUR_ADMIN_ADDRESS&quot;</span></span><br><span class="line">    unsafeBlockSigner = <span class="string">&quot;YOUR_SEQUENCER_ADDRESS&quot;</span></span><br><span class="line">    batcher = <span class="string">&quot;YOUR_BATCHER_ADDRESS&quot;</span></span><br><span class="line">    proposer = <span class="string">&quot;YOUR_PROPOSER_ADDRESS&quot;</span></span><br><span class="line">    challenger = <span class="string">&quot;0xfd1d2e729ae8eee2e146c033bf4400fe75284301&quot;</span></span><br></pre></td></tr></table></figure><h3 id="5-4-éƒ¨ç½²-L1-åˆçº¦"><a href="#5-4-éƒ¨ç½²-L1-åˆçº¦" class="headerlink" title="5.4 éƒ¨ç½² L1 åˆçº¦"></a>5.4 éƒ¨ç½² L1 åˆçº¦</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥è¯¢ L1 gas feeï¼Œåˆ¤æ–­ L1 RPC æ˜¯å¦è¿æ¥æˆåŠŸ</span></span><br><span class="line">cast gas-price --rpc-url <span class="variable">$L1_RPC_URL</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># éƒ¨ç½²åˆçº¦</span></span><br><span class="line">./bin/op-deployer apply --workdir .deployer --l1-rpc-url <span class="variable">$L1_RPC_URL</span> --private-key <span class="variable">$GS_ADMIN_PRIVATE_KEY</span></span><br></pre></td></tr></table></figure><h3 id="5-5-ç”Ÿæˆ-L2-é…ç½®æ–‡ä»¶"><a href="#5-5-ç”Ÿæˆ-L2-é…ç½®æ–‡ä»¶" class="headerlink" title="5.5 ç”Ÿæˆ L2 é…ç½®æ–‡ä»¶"></a>5.5 ç”Ÿæˆ L2 é…ç½®æ–‡ä»¶</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç”Ÿæˆ genesis.jsonï¼ˆç”¨äº op-gethï¼‰</span></span><br><span class="line">./bin/op-deployer inspect genesis --workdir .deployer <span class="variable">$L2_CHAIN_ID</span> &gt; .deployer/genesis.json</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”Ÿæˆ rollup.jsonï¼ˆç”¨äº op-nodeï¼‰</span></span><br><span class="line">./bin/op-deployer inspect rollup --workdir .deployer <span class="variable">$L2_CHAIN_ID</span> &gt; .deployer/rollup.json</span><br></pre></td></tr></table></figure><h2 id="å…­ã€å¯åŠ¨-Layer2"><a href="#å…­ã€å¯åŠ¨-Layer2" class="headerlink" title="å…­ã€å¯åŠ¨ Layer2"></a>å…­ã€å¯åŠ¨ Layer2</h2><h3 id="6-1-åˆå§‹åŒ–å¹¶å¯åŠ¨-op-geth"><a href="#6-1-åˆå§‹åŒ–å¹¶å¯åŠ¨-op-geth" class="headerlink" title="6.1 åˆå§‹åŒ–å¹¶å¯åŠ¨ op-geth"></a>6.1 åˆå§‹åŒ–å¹¶å¯åŠ¨ op-geth</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç”Ÿæˆ jwt å¯†é’¥ç”¨äº op-geth ä¸ op-node é€šä¿¡</span></span><br><span class="line"><span class="built_in">cd</span> ~/optimism/op-geth</span><br><span class="line">openssl rand -hex 32 &gt; jwt.txt</span><br><span class="line"><span class="built_in">cp</span> jwt.txt ../op-node/</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆå§‹åŒ– op-geth</span></span><br><span class="line"><span class="built_in">mkdir</span> -p datadir</span><br><span class="line">build/bin/geth init --state.scheme=<span class="built_in">hash</span> --datadir=datadir ../.deployer/genesis.json</span><br><span class="line"></span><br><span class="line"><span class="comment">#å¯åŠ¨ op-geth</span></span><br><span class="line">./build/bin/geth \</span><br><span class="line">--datadir ./datadir \</span><br><span class="line">--http \</span><br><span class="line">    --http.corsdomain=<span class="string">&quot;*&quot;</span> \</span><br><span class="line">    --http.vhosts=<span class="string">&quot;*&quot;</span> \</span><br><span class="line">    --http.addr=0.0.0.0 \</span><br><span class="line">    --http.api=web3,debug,eth,txpool,net,engine,miner \</span><br><span class="line">    --ws \</span><br><span class="line">    --ws.addr=0.0.0.0 \</span><br><span class="line">    --ws.port=8546 \</span><br><span class="line">    --ws.origins=<span class="string">&quot;*&quot;</span> \</span><br><span class="line">    --ws.api=debug,eth,txpool,net,engine,miner \</span><br><span class="line">    --syncmode=full \</span><br><span class="line">    --gcmode=archive \</span><br><span class="line">    --nodiscover \</span><br><span class="line">    --maxpeers=0 \</span><br><span class="line">    --networkid=<span class="variable">$L2_CHAIN_ID</span> \</span><br><span class="line">    --authrpc.vhosts=<span class="string">&quot;*&quot;</span> \</span><br><span class="line">    --authrpc.addr=0.0.0.0 \</span><br><span class="line">    --authrpc.port=8551 \</span><br><span class="line">    --authrpc.jwtsecret=./jwt.txt \</span><br><span class="line">    --rollup.disabletxpoolgossip=<span class="literal">true</span></span><br></pre></td></tr></table></figure><h3 id="6-2-å¯åŠ¨-op-node"><a href="#6-2-å¯åŠ¨-op-node" class="headerlink" title="6.2 å¯åŠ¨ op-node"></a>6.2 å¯åŠ¨ op-node</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/optimism/op-node</span><br><span class="line"></span><br><span class="line">./bin/op-node \</span><br><span class="line">--l2=http://localhost:8551 \</span><br><span class="line">--l2.jwt-secret=./jwt.txt \</span><br><span class="line">--sequencer.enabled \</span><br><span class="line">--sequencer.l1-confs=5 \</span><br><span class="line">--verifier.l1-confs=4 \</span><br><span class="line">--rollup.config=../.deployer/rollup.json \</span><br><span class="line">--rpc.addr=0.0.0.0 \</span><br><span class="line">--rpc.port=9545 \</span><br><span class="line">--p2p.disable \</span><br><span class="line">--rpc.enable-admin \</span><br><span class="line">--p2p.sequencer.key=<span class="variable">$GS_SEQUENCER_PRIVATE_KEY</span> \</span><br><span class="line">--l1=<span class="variable">$L1_RPC_URL</span> \</span><br><span class="line">--l1.rpckind=<span class="variable">$L1_RPC_KIND</span> \</span><br><span class="line">--l1.beacon=<span class="variable">$L1_BEACON_URL</span></span><br></pre></td></tr></table></figure><h3 id="6-3-å¯åŠ¨-op-batcher"><a href="#6-3-å¯åŠ¨-op-batcher" class="headerlink" title="6.3 å¯åŠ¨ op-batcher"></a>6.3 å¯åŠ¨ op-batcher</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/optimism/op-batcher</span><br><span class="line"></span><br><span class="line">./bin/op-batcher \</span><br><span class="line">--l2-eth-rpc=http://localhost:8545 \</span><br><span class="line">--rollup-rpc=http://localhost:9545 \</span><br><span class="line">--poll-interval=1s \</span><br><span class="line">--sub-safety-margin=6 \</span><br><span class="line">--num-confirmations=1 \</span><br><span class="line">--safe-abort-nonce-too-low-count=3 \</span><br><span class="line">--resubmission-timeout=30s \</span><br><span class="line">--rpc.addr=0.0.0.0 \</span><br><span class="line">--rpc.port=8548 \</span><br><span class="line">--rpc.enable-admin \</span><br><span class="line">--max-channel-duration=25 \</span><br><span class="line">--l1-eth-rpc=<span class="variable">$L1_RPC_URL</span> \</span><br><span class="line">--private-key=<span class="variable">$GS_BATCHER_PRIVATE_KEY</span></span><br></pre></td></tr></table></figure><h3 id="6-4-å¯åŠ¨-op-proposer"><a href="#6-4-å¯åŠ¨-op-proposer" class="headerlink" title="6.4 å¯åŠ¨ op-proposer"></a>6.4 å¯åŠ¨ op-proposer</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åŠ è½½ op-proposer é…ç½®å˜é‡ï¼ˆä¹Ÿå¯åŠ åˆ° .envrc é‡Œé¢ï¼‰</span></span><br><span class="line"><span class="built_in">export</span> OP_PROPOSER_WAIT_NODE_SYNC=<span class="literal">true</span></span><br><span class="line"><span class="built_in">export</span> OP_PROPOSER_PROPOSAL_INTERVAL=15m</span><br><span class="line"><span class="built_in">export</span> OP_PROPOSER_GAME_FACTORY_ADDRESS=$(<span class="built_in">cat</span> ~/.deployer/state.json | jq -r <span class="string">&#x27;.opChainDeployments[0].disputeGameFactoryProxyAddress&#x27;</span>)</span><br><span class="line"><span class="built_in">export</span> OP_PROPOSER_GAME_TYPE=1</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">cd</span> ~/optimism/op-proposer</span><br><span class="line"></span><br><span class="line">./bin/op-proposer \</span><br><span class="line">  --poll-interval=12s \</span><br><span class="line">  --rpc.port=8560 \</span><br><span class="line">  --rollup-rpc=http://localhost:9545 \</span><br><span class="line">  --private-key=<span class="variable">$GS_PROPOSER_PRIVATE_KEY</span> \</span><br><span class="line">  --l1-eth-rpc=<span class="variable">$L1_RPC_URL</span></span><br></pre></td></tr></table></figure><h2 id="ä¸ƒã€éªŒè¯éƒ¨ç½²"><a href="#ä¸ƒã€éªŒè¯éƒ¨ç½²" class="headerlink" title="ä¸ƒã€éªŒè¯éƒ¨ç½²"></a>ä¸ƒã€éªŒè¯éƒ¨ç½²</h2><h3 id="7-1-æ£€æŸ¥-L2-é“¾çŠ¶æ€"><a href="#7-1-æ£€æŸ¥-L2-é“¾çŠ¶æ€" class="headerlink" title="7.1 æ£€æŸ¥ L2 é“¾çŠ¶æ€"></a>7.1 æ£€æŸ¥ L2 é“¾çŠ¶æ€</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">curl -X POST -H <span class="string">&quot;Content-Type: application/json&quot;</span> \</span><br><span class="line">  --data <span class="string">&#x27;&#123;&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;method&quot;:&quot;eth_blockNumber&quot;,&quot;params&quot;:[],&quot;id&quot;:1&#125;&#x27;</span> \</span><br><span class="line">  <span class="variable">$L2_RPC_URL</span></span><br></pre></td></tr></table></figure><h3 id="7-2-è¿æ¥é’±åŒ…åˆ°-Layer2"><a href="#7-2-è¿æ¥é’±åŒ…åˆ°-Layer2" class="headerlink" title="7.2 è¿æ¥é’±åŒ…åˆ° Layer2"></a>7.2 è¿æ¥é’±åŒ…åˆ° Layer2</h3><p>åœ¨ MetaMask ä¸­æ·»åŠ è‡ªå®šä¹‰ç½‘ç»œï¼š</p><ul><li>ç½‘ç»œåç§°ï¼šOP Stack Rollup</li><li>RPC URLï¼š<a href="http://localhost:8545/">http://localhost:8545</a></li><li>é“¾ IDï¼šL2_CHAIN_ID</li><li>ç¬¦å·ï¼šETH</li></ul><h3 id="7-3-å°†-SepoliaETH-å‘é€åˆ°-Bridge-åˆçº¦"><a href="#7-3-å°†-SepoliaETH-å‘é€åˆ°-Bridge-åˆçº¦" class="headerlink" title="7.3 å°† SepoliaETH å‘é€åˆ° Bridge åˆçº¦"></a>7.3 å°† SepoliaETH å‘é€åˆ° Bridge åˆçº¦</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è·å– L1StandardBridge åœ°å€</span></span><br><span class="line">L1StandardBridge=$(<span class="built_in">cat</span> ~/optimism/.deployer/state.json | jq -r <span class="string">&#x27;.opChainDeployments[0].l1StandardBridgeProxyAddress&#x27;</span>)</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;L1StandardBridge åœ°å€: <span class="variable">$L1StandardBridge</span>&quot;</span></span><br></pre></td></tr></table></figure><p>é€šè¿‡ Metamask å‘ä½ çš„ <strong>æ¡¥æ¥åœ°å€</strong> å‘é€(0.0001 SepoliaETH)ï¼Œå‘é€æˆåŠŸåå¤§çº¦éœ€è¦ 5 åˆ†é’Ÿæ‰èƒ½åœ¨ Layer2 ä¸Šçœ‹åˆ° ETH.</p><p><strong>Hoorayï¼Op Stack éƒ¨ç½²æˆåŠŸï¼ï¼ï¼</strong></p><h2 id="å…«ã€åŸºæœ¬è½¬è´¦-CLI-æ“ä½œå®ä¾‹"><a href="#å…«ã€åŸºæœ¬è½¬è´¦-CLI-æ“ä½œå®ä¾‹" class="headerlink" title="å…«ã€åŸºæœ¬è½¬è´¦ CLI æ“ä½œå®ä¾‹"></a>å…«ã€åŸºæœ¬è½¬è´¦ CLI æ“ä½œå®ä¾‹</h2><h3 id="8-1-ä»-L1-çš„-Admin-æ¡¥æ¥åˆ°-L2-çš„-admin"><a href="#8-1-ä»-L1-çš„-Admin-æ¡¥æ¥åˆ°-L2-çš„-admin" class="headerlink" title="8.1 ä» L1 çš„ Admin æ¡¥æ¥åˆ° L2 çš„ admin"></a>8.1 ä» L1 çš„ Admin æ¡¥æ¥åˆ° L2 çš„ admin</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">cast send <span class="variable">$L1StandardBridge</span> \</span><br><span class="line">  --rpc-url <span class="variable">$L1_RPC_URL</span> \</span><br><span class="line">  --private-key <span class="variable">$GS_ADMIN_PRIVATE_KEY</span> \</span><br><span class="line">  --value 0.0001ether \</span><br><span class="line">  <span class="string">&quot;depositETH(uint32,bytes)&quot;</span> \</span><br><span class="line">  200000 \</span><br><span class="line">  <span class="string">&quot;0x&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹ Admin L1 å’Œ L2 çš„ä½™é¢</span></span><br><span class="line">cast balance <span class="variable">$GS_ADMIN_ADDRESS</span> --rpc-url <span class="variable">$L1_RPC_URL</span></span><br><span class="line">cast balance <span class="variable">$GS_ADMIN_ADDRESS</span> --rpc-url <span class="variable">$L2_RPC_URL</span></span><br></pre></td></tr></table></figure><h3 id="8-2-ä»-L1-çš„-Admin-æ¡¥æ¥åˆ°-L2-çš„-Batcher"><a href="#8-2-ä»-L1-çš„-Admin-æ¡¥æ¥åˆ°-L2-çš„-Batcher" class="headerlink" title="8.2 ä» L1 çš„ Admin æ¡¥æ¥åˆ° L2 çš„ Batcher"></a>8.2 ä» L1 çš„ Admin æ¡¥æ¥åˆ° L2 çš„ Batcher</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">cast send <span class="variable">$L1StandardBridge</span> \</span><br><span class="line">  --rpc-url <span class="variable">$L1_RPC_URL</span> \</span><br><span class="line">  --private-key <span class="variable">$GS_ADMIN_PRIVATE_KEY</span> \</span><br><span class="line">  --value 0.0001ether \</span><br><span class="line">  <span class="string">&quot;depositETHTo(address,uint32,bytes)&quot;</span> \</span><br><span class="line">  <span class="variable">$GS_BATCHER_ADDRESS</span> \</span><br><span class="line">  200000 \</span><br><span class="line">  <span class="string">&quot;0x&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹ Admin L1 å’Œ Batcher L2 çš„ä½™é¢</span></span><br><span class="line">cast balance <span class="variable">$GS_ADMIN_ADDRESS</span> --rpc-url <span class="variable">$L1_RPC_URL</span></span><br><span class="line">cast balance <span class="variable">$GS_BATCHER_ADDRESS</span> --rpc-url <span class="variable">$L2_RPC_URL</span></span><br></pre></td></tr></table></figure><h3 id="8-3-L2-è½¬è´¦"><a href="#8-3-L2-è½¬è´¦" class="headerlink" title="8.3 L2 è½¬è´¦"></a>8.3 L2 è½¬è´¦</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># L2 ä» Batcher è½¬è´¦åˆ° Admin</span></span><br><span class="line">cast send <span class="variable">$GS_ADMIN_ADDRESS</span> \</span><br><span class="line">  --rpc-url <span class="variable">$L2_RPC_URL</span> \</span><br><span class="line">  --private-key <span class="variable">$GS_BATCHER_PRIVATE_KEY</span> \</span><br><span class="line">  --value 0.00001ether</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹ Admin L2 å’Œ Batcher L2 çš„ä½™é¢</span></span><br><span class="line">cast balance <span class="variable">$GS_ADMIN_ADDRESS</span> --rpc-url <span class="variable">$L2_RPC_URL</span></span><br><span class="line">cast balance <span class="variable">$GS_BATCHER_ADDRESS</span> --rpc-url <span class="variable">$L2_RPC_URL</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> Layer2 </tag>
            
            <tag> OPStack </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ…¢ç»ƒå‹¤ä¿®ï¼Œåˆ«æ€¥æ”¾æ¾ | é“å®¶æ­¦æœ¯é¦†ä¸€æœˆæ¸…ä¿®</title>
      <link href="/2025/02/22/taichi-28/"/>
      <url>/2025/02/22/taichi-28/</url>
      
        <content type="html"><![CDATA[<p>ä¸€æœˆä¸Šæ—¬è¯»äº†ä¸‰æœ¬ä¹¦ â€”â€”ã€Š36 ä¸‡éæ„Ÿæ©çš„å¥‡è¿¹ã€‹ã€ã€Šæ¸…é†’åœ°æ´»ã€‹ã€ã€Šå†…åœ¨å·¥ç¨‹ã€‹ï¼Œè¿™ä¸‰æœ¬ä¹¦ä¸­éƒ½æœ‰éƒ¨åˆ†ç¯‡å¹…è®²è¿°äº†é˜´é˜³å“²å­¦ï¼Œè®©æˆ‘å¯¹é“å®¶æ–‡åŒ–äº§ç”Ÿäº†æµ“åšå…´è¶£ï¼Œå†æ¬¡çœ‹åˆ°ä¹‹å‰è§‰å¾—å¹³å¹³æ— å¥‡çš„å¤ªæå›¾çš„ç¬¬ä¸€ååº”ç«Ÿç„¶æ˜¯ â€”â€” <em>It is fascinating</em>ï¼Œåˆšå¥½ä»Šå¹´ä¹Ÿæœ‰å­¦ä¹ å¤ªæå’Œå…»ç”Ÿçš„è®¡åˆ’ï¼Œç„¶åå°±æŠ¥åäº†æ­¦å½“å±±é“å®¶ä¼ ç»Ÿæ­¦æœ¯é¦†çš„å…»ç”Ÿç­ï¼Œå¼€å¯äº†ä¸€ä¸ªæœˆçš„æ¸…ä¿®ç”Ÿæ´»ã€‚</p><img src="/images/2025/slow_is_fast.jpg" width="70%" alt="Slow is Fast" style="display: block; margin: 0 auto;"><hr><h2 id="æ­¦é¦†æ—¥å¸¸"><a href="#æ­¦é¦†æ—¥å¸¸" class="headerlink" title="æ­¦é¦†æ—¥å¸¸"></a>æ­¦é¦†æ—¥å¸¸</h2><ul><li>æ—©ä¸Š <strong>6:30</strong> åˆ°ç»ƒåŠŸå ‚å…±ä¿®äº”è¡Œæ°”åŠŸ</li><li>ä¸Šåˆ <strong>9:00</strong> å’Œä¸‹åˆ <strong>15:00</strong> çš„æ­¦æœ¯è¯¾æ˜¯æ•™ç»ƒå¸¦åŒå­¦ä»¬ä¸€èµ·ç»ƒä¹ å¤§çº¦ä¸€å°æ—¶çš„åŸºæœ¬åŠŸ<br>ï¼ˆåŒ…å«æŸ”éŸ§æ€§ã€è€åŠ›ã€å¹³è¡¡æ€§ã€åè°ƒæ€§ã€çˆ†å‘åŠ›çš„è®­ç»ƒã€‚è¿™ä¸€éƒ¨åˆ†æˆ‘è¶…çº§å–œæ¬¢ï¼Œæœ‰å¼€å¿ƒå¿«ä¹çš„è¹¦è¹¦è·³è·³ç¯èŠ‚ï¼‰</li><li>ä¹‹ååˆ°å„è‡ªæ•™ç»ƒçš„å¸¦ç»ƒåŒºåŸŸå­¦ä¹ æˆ–å¤ä¹ è‡ªå·±çš„åŠŸæ³•</li><li>å‚æ™š <strong>18:30</strong> æœ‰ä¸€ä¸ªå°æ—¶çš„é™åè¯¾ï¼Œæ•™ç»ƒä¼šå¸¦å¤§å®¶åšå‡ ç»„é™æ€æ‹‰ä¼¸ç„¶åå¼€å¯ç¦…ä¿®æ¨¡å¼</li></ul><p>æ­¦é¦†æ—¥å¸¸ä¼™é£Ÿæ¸…æ·¡ï¼Œç´ é£Ÿè€…å‹å¥½ï¼Œæˆ‘æ„Ÿè§‰åœ¨æ­¦é¦†å¾…äº†ä¸€ä¸ªæœˆä½“è¡¨è„‚è‚ªéƒ½åšäº†ä¸€ç‚¹ç‚¹ã€‚<br>ä½å®¿æˆ‘é€‰çš„æ˜¯èˆ’é€‚å•äººé—´ï¼Œæˆ‘è§‰å¾—ç¯å¢ƒå¾ˆèˆ’é€‚å¾ˆæ–¹ä¾¿è€Œä¸”ä¸‹åˆçš„æ—¶å€™æˆ‘çš„æˆ¿é—´å¯ä»¥æ™’åˆ°å¤§å¤ªé˜³ï¼Œæ´’è¿›æˆ¿é—´çš„é˜³å…‰è®©äººå¿ƒæƒ…èˆ’ç•…~</p><img src="/images/2025/standing.jpg" width="60%" alt="ç«™æ¡©" style="display: block; margin: 0 auto;"><hr><h2 id="é˜…è¯»ä¸ä½“æ‚Ÿ"><a href="#é˜…è¯»ä¸ä½“æ‚Ÿ" class="headerlink" title="é˜…è¯»ä¸ä½“æ‚Ÿ"></a>é˜…è¯»ä¸ä½“æ‚Ÿ</h2><p>åœ¨æ­¦é¦†æ¸…ä¿®æœŸé—´é˜…è¯»äº†äº”æœ¬ä¹¦ï¼Œå…¶ä¸­ä¸¤æœ¬å’Œæ­¦é¦†ä¿®ä¹ å¾ˆæ­ç‰¹åˆ«æ¨èï¼š</p><ul><li>ã€ŠThe Inner Game of Tennisã€‹ï¼ˆä¸­æ–‡ç‰ˆæ˜¯ã€Šèº«å¿ƒåˆä¸€çš„å¥‡è¿¹åŠ›é‡ã€‹ï¼Œæ­¦å¿—çº¢è€å¸ˆæ¨èï¼‰å’Œè¿™æœ¬ä¹¦ä¸­æåŠçš„ã€Šç®­æœ¯ä¸ç¦…å¿ƒã€‹</li></ul><p>åœ¨å¹³æ—¥ç»ƒåŠŸçš„æ—¶å€™æˆ‘ä¼šè®©è‡ªå·±çš„å¤§è„‘å®‰é™ä¸‹æ¥ï¼Œè®©è‡ªå·±çš„æ³¨æ„åŠ›æ”¾æ¾ï¼Œä¸å»è¿‡åº¦å°è¯•åŠªåŠ›ï¼Œè€Œæ˜¯æœ‰è§‰çŸ¥åœ°å¸æ‰å¤šä½™ç´§å¼ çš„åŠ›ï¼Œç›¸ä¿¡è‡ªå·±çš„èº«ä½“å¹¶è®©å…¶è‡ªç„¶æµåŠ¨ï¼Œå¹¶åœ¨æ”»ä¸é˜²çš„æ‹›å¼è½¬æ¢ä¸­ä½“éªŒåŠ¿çš„å˜åŒ–ã€‚</p><p>åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­å¥½åƒå¯¹â€œæ¶ˆèçš„è‡ªæˆ‘â€ä¹Ÿæœ‰äº†ä¸€äº›ä½“æ‚Ÿï¼š</p><ul><li>å¤ªæå…»æˆ‘çš„åŒæ—¶æˆ‘ä¹Ÿåœ¨å…»å¤ªæ</li><li>æˆ‘åœ¨æ‰§å‰‘çš„æ—¶å€™å‰‘ä¹ŸåŒæ—¶åœ¨æ‰§æˆ‘</li><li>æ¶ˆèçš„è‡ªæˆ‘æ˜¯å®¢ä¸ä¸»çš„è½¬æ¢ï¼Œåœ¨è¿™ä¸€ç¬ä¼¼ä¹éƒ½å½¼æ­¤èåˆï¼Œä¹Ÿå°±å†æ²¡æœ‰åŒºåˆ†çš„éœ€è¦äº†</li></ul><img src="/images/2025/daodejing.jpg" width="70%" alt="Dao De Jing" style="display: block; margin: 0 auto;"><hr><h2 id="ä¼‘æ¯æ—¥ä½“éªŒ"><a href="#ä¼‘æ¯æ—¥ä½“éªŒ" class="headerlink" title="ä¼‘æ¯æ—¥ä½“éªŒ"></a>ä¼‘æ¯æ—¥ä½“éªŒ</h2><p>é™¤äº†æ­¦é¦†çš„ä¿®ä¹ ä¹‹å¤–ï¼Œä¼‘æ¯æ—¥å’Œç»“è¯†çš„ä¼™ä¼´ä¸€èµ·è§£é”äº†è®¸å¤šä½“éªŒï¼š</p><ul><li>é™¤å¤•æ—¥ä»å—å²©å¾’æ­¥ä¸Šé‡‘é¡¶æŠ½ç­¾ï¼Œåˆšå¥½æŠ½åˆ°çš„ç­¾å’Œè¿™æ¬¡æ¸…ä¿®çš„åˆå¿ƒç›¸å…³ï¼Œç‰¹åˆ«å–œæ¬¢â€”â€”é˜´é˜³é“å’Œ<br> ï¼ˆå¦‚æœæŠ½çš„ç­¾ä¸å¤ªæ»¡æ„å°±å†æŠ½ï¼Œå‡ºæ¥ç©å¼€å¿ƒæœ€é‡è¦ï¼‰</li></ul><img src="/images/2025/cat.jpg" width="55%" alt="Cat" style="display: block; margin: 0 auto;"><ul><li>å»è´­ä¹°ä¿®é“é£ç»ƒåŠŸæœ</li><li>å»ä½“éªŒé“å®¶æŒ‰æ‘©</li><li>å»æ‰“å¡æ­¥è¡Œè¡—ç´ é£Ÿé¤å…</li><li>å»çœ‹ã€Šæ­¦å½“ä¸€æ¢¦ã€‹å’ŒçƒŸèŠ±æ— äººæœºç§€ç­‰ç­‰</li><li>æœ¬å‘¨ä¸‰è¿˜å‚åŠ äº†æ­¦é¦†æ±‡æ¼”ï¼Œåˆšå¥½æ˜¯æ¸…ä¿®æœ€åä¸€å¤©ï¼Œå°±ç®—æ˜¯æ¯•ä¸šå…¸ç¤¼äº†</li></ul><img src="/images/2025/dream_of_wudang.jpg" width="70%" alt="One Dream at Wudang" style="display: block; margin: 0 auto;"><hr><h2 id="æ„Ÿæ©ä¸å‰è¡Œ"><a href="#æ„Ÿæ©ä¸å‰è¡Œ" class="headerlink" title="æ„Ÿæ©ä¸å‰è¡Œ"></a>æ„Ÿæ©ä¸å‰è¡Œ</h2><p>å¾ˆæ„Ÿæ©ï¼Œå¾ˆå¼€å¿ƒï¼Œå¾ˆå¹¸è¿èƒ½å¤Ÿé‡è§é‚£ä¹ˆå¤šå¾ˆå¥½çš„ä¼™ä¼´ã€‚<br>åˆ†åˆ«ä¹‹é™…è™½æœ‰ä¸èˆï¼Œä½†å¤§å®¶è¡¨è¾¾çš„æ›´å¤šæ˜¯æ„Ÿè°¢å’Œç¥ç¦ï¼Œè€Œæˆ‘ä¹Ÿä¼šå¸¦ç€è¿™ä»½æ„Ÿæ©çš„å¿ƒå¿µç»§ç»­å¾€å‰èµ°èµ°~</p>]]></content>
      
      
      
        <tags>
            
            <tag> Flow </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç¥åœ£çš„é™é»˜ | æ­¦å¤·å±±ä¸œå±±ç¦…æ—åæ—¥å†…è§‚</title>
      <link href="/2024/12/12/vipassana/"/>
      <url>/2024/12/12/vipassana/</url>
      
        <content type="html"><![CDATA[<p>åœ¨å±±ä¸Šåº¦è¿‡äº†åå¤©ç¦è¨€ã€ä¸å¤–ç•Œä¿¡æ¯éš”ç¦»çš„å‡ºå®¶ç”Ÿæ´»ï¼Œä»è§‚å‘¼å¸å¼€å§‹ä»¥æ…ˆæ‚²è§‚ç»“æŸã€‚å»ä¹‹å‰ä»æ²¡æƒ³è¿‡å†…è§‚ç¦…ä¿®é‚£ä¹ˆéš¾ï¼Œéš¾åœ¨æ·±å…¥æ•é”åœ°ä¸“æ³¨ï¼Œéš¾åœ¨å…¨ç„¶å¹³ç­‰åœ°æ¥å—ã€‚</p><hr><h2 id="å…³äºåš"><a href="#å…³äºåš" class="headerlink" title="å…³äºåš"></a>å…³äºåš</h2><p><strong>â€˜The doers are the major thinkersâ€™</strong> â€”â€”è¿™æ˜¯ç¦…ä¿®æœŸé—´æ¯å¤©éƒ½ä¼šååå¤å¤æµ®ç°åœ¨è„‘æµ·ä¸­çš„ä¸€å¥è¯ï¼Œç„¶ååœ¨ç¬¬åå¤©çš„æ—¶å€™è„‘æµ·æµ®ç°äº†ä¸€ä¸ªä¸­æ–‡ç¿»è¯‘ï¼Œæ„Ÿè§‰è¿˜æŒºè´´åˆ‡â€”â€”</p><p><strong>â€œé‚£äº›çœŸæ­£ä»˜å‡ºè¡ŒåŠ¨å»å®è·µä»–æ‰€æ€æ‰€æƒ³çš„äººæ‰æ˜¯çœŸæ­£çš„æ€æƒ³å®¶â€</strong></p><p>ç°åœ¨å›æƒ³ä»¥å‰å¾ˆå¤šæ—¶å€™å¤§æ¦‚æ˜¯çŸ¥é“è¯¥æ€ä¹ˆåšçš„ï¼Œä½†æ˜¯ç”±äºå†…å¿ƒä¸å¤Ÿå¼ºå¤§ï¼Œåœ¨æ„ä»–äººçœ‹æ³•ï¼Œå¯¹ç¡®å®šæ€§çš„è¿‡åº¦åå¥½å†åŠ ä¸Šå‘¨å›´é‡åˆ°çš„äººäº‹ç‰©ï¼Œç»å¸¸é™·å…¥è‡ªæˆ‘æ€€ç–‘å’Œè‡ªæˆ‘å¦å®šçš„çŠ¶æ€ï¼Œè¿™ç§çŠ¶æ€ååå¤å¤ï¼Œæ¶ˆè€—äº†æœ¬å°±ä¸å¤šçš„å¿ƒåŠ›ï¼Œæ·¹æ²¡äº†æœ¬å°±å¾®å¼±çš„å¿ƒå£°ï¼Œå¯¼è‡´æ— æ³•è¡ŒåŠ¨ã€‚</p><p>å¯æ˜¯å½“æˆ‘ä»å¹¿æ³›çš„é˜…è¯»ä¸­è¶Šæ¥è¶Šå¤šåœ°æ„Ÿå—åˆ°ï¼Œæ— è®ºæ˜¯åƒè‹æ ¼æ‹‰åº•ã€åº„å­ã€å°¼é‡‡ã€é»‘å¡è¿™æ ·çš„æ™ºæ…§å…ˆå“²ï¼Œè¿˜æ˜¯åƒä½›é™€ã€å…‹é‡Œå¸Œé‚£ç©†æã€è‘›å°å¡ã€è¨å¤èŒ¹è¿™æ ·çš„æ— ç§å¤èŒ¹ï¼Œäº¦æˆ–æ˜¯åƒèŠ’æ ¼ã€ä¹”å¸ƒæ–¯ã€æ®µæ°¸å¹³ã€çº³ç“¦å°”è¿™æ ·çš„å½“ä»£åäººç­‰ç­‰ï¼Œè¿™äº›è‡ªå·±å†…å¿ƒæ‰€å°Šæ•¬çš„çµé­‚æˆ–æ¦œæ ·åœ¨ä¸€ç”Ÿä¸­å¤§éƒ¨åˆ†æ—¶é—´éƒ½åœ¨è·µè¡Œé‚£äº›åŸºæœ¬çš„ä»·å€¼è§‚å’Œå‡†åˆ™ã€‚</p><p>å½“æ„Ÿå—åˆ°è¿™ç‚¹åï¼Œè‡ªå·±è¿™é¢—æƒ¶æä¸å®‰ã€è¿·èŒ«æ— æªã€å¿ƒçŒ¿æ„é©¬çš„å¿ƒä¹Ÿæ…¢æ…¢å˜å¾—æ›´å¹³ç¨³ã€æ›´æ¸…æ™°ã€æ›´åšå®šï¼Œå‘å‰è¸å‡ºçš„è„šæ­¥ä¹Ÿå¤šäº†å‡ åˆ†ç¬ƒå®šã€‚</p><p>è€Œå½“æˆ‘ä¸å†ä»…ä»…æ»¡è¶³äºçŸ¥è¯†ä¸Šçš„ç†è§£ï¼Œè€Œæ˜¯æ›´å¤šåœ°ä¸“æ³¨äºç»éªŒä¸Šçš„ç†è§£æ—¶ï¼Œæ ¹æœ¬æ€§çš„æ”¹å˜ä¹Ÿéšä¹‹è‡ªç„¶è€Œç„¶åœ°å‘ç”Ÿã€‚</p><hr><h2 id="å…³äºçœŸ"><a href="#å…³äºçœŸ" class="headerlink" title="å…³äºçœŸ"></a>å…³äºçœŸ</h2><p>ä»Šå¹´çš„æŸå¤©æˆ‘çªç„¶æ„è¯†åˆ°æˆ‘å’Œçˆ¶æ¯å’Œè°çš„å…³ç³»å­˜åœ¨æ³¡æ²«ä¹‹ä¸­ï¼Œè¿™ç§è™šå‡çš„å’Œè°æ˜¯ä»¥æ— æ„è¯†åœ°æ¥å—é‚£äº›ä¹ ä»¥ä¸ºå¸¸çš„è¿èƒŒè‡ªèº«æ„Ÿå—çš„éšæ€§è¦æ±‚ä¸ºä»£ä»·ã€‚</p><p>è¿™ç§é•¿æœŸæ— æ„è¯†åœ°æ¥å—ï¼Œè¿™ç§å‡åªä¼šäº§ç”Ÿæ— å°½çš„æ— æ„è¯†çš„å¦å®šã€æ‰­æ›²ã€å‹æŠ‘ã€æ§åˆ¶ï¼Œè¿™ç§å‡æ°¸è¿œä¸ä¼šå¸¦æ¥çœŸæ­£çš„äº†è§£ã€çœŸæ­£çš„å°Šé‡ã€çœŸæ­£çš„å…³å¿ƒã€çœŸæ­£çš„è´£ä»»ã€‚</p><p><strong>å‡æ— æ³•å¸¦æ¥çœŸæ­£çš„çˆ±ï¼Œè€ŒçœŸæ­£çš„çˆ±ä¸ä¼šå¸¦æ¥ä¼¤å®³ã€‚</strong></p><p>å½“æ„è¯†åˆ°è¿™ç‚¹åï¼Œé‚£äº›æ›¾ç»ä»¥ä¸ºå·²ç»ä¿®å¤çš„åŸç”Ÿå®¶åº­åˆ›ä¼¤åˆå¼€å§‹é¢‘ç¹åœ°è®©æˆ‘é™·å…¥æ„¤æ€’æˆ–æ‚²ä¼¤å¼çš„æƒ…ç»ªé—ªå›ï¼Œæ—¶å¸¸è®©æˆ‘æš´èºä¸å®‰ã€‚</p><p>ä½†è¿™æ¬¡æˆ‘å†³å®šæ¥å—è¿™ä»½åˆ›ä¼¤å°±æ˜¯æˆ‘çš„ä¸€éƒ¨åˆ†è¿™ä¸ªäº‹å®ï¼Œä¸å†å»å¦å®šã€åˆç†åŒ–ã€å‹æŠ‘æˆ–æ˜¯è¯•å›¾å»åŸè°…ï¼Œåªæ˜¯å…¨ç„¶å¹³ç­‰åœ°æ¥å—ï¼Œæˆ‘å†³å¿ƒæ‹¥æŠ±å®Œæ•´çš„è‡ªå·±ã€‚</p><p>äºæ˜¯æˆ‘ç”¨å†…è§‚è¿™æŠŠæ‰‹æœ¯åˆ€æ›´æ·±åœ°å‰–æè‡ªå·±çš„å†…å¿ƒï¼Œæ²¡æœ‰ææƒ§ï¼Œæ²¡æœ‰çŠ¹è±«ã€‚å› ä¸ºæˆ‘å¾ˆå¹¸è¿ï¼Œæˆ‘æ‰¾åˆ°äº†å¿ƒåº•é‚£å¤„ä¸€ç›´ç¼ºå¤±çš„åŠ›é‡ã€‚</p><p>å½“æ„¤æ€’åƒç†”å²©èˆ¬å–·è–„è€Œå‡ºæ—¶ï¼Œè‡ªæˆ‘ä¿æŠ¤å’Œè‡ªæˆ‘æ”¯æŒçš„æ„æ„¿ä¾¿ä¼šæ›´åŠ å¼ºçƒˆï¼›å½“æ‚²ä¼¤åƒæµ·æµªèˆ¬å‘¼å•¸è€Œæ¥æ—¶ï¼Œè‡ªæˆ‘åŒæƒ…å’Œè‡ªæˆ‘å…³æ€€çš„å¿ƒæ„ä¾¿ä¼šæ„ˆå‘æŸ”è½¯ï¼›å½“æ„¤æ€’ä¸æ‚²ä¼¤å½¼æ­¤ç¢°æ’æ¶ˆèï¼Œçˆ±å°±å†æ¬¡å¼€å§‹æµåŠ¨ã€‚</p><hr><h2 id="å…³äºè‡ªæˆ‘"><a href="#å…³äºè‡ªæˆ‘" class="headerlink" title="å…³äºè‡ªæˆ‘"></a>å…³äºè‡ªæˆ‘</h2><p>ä¹‹å‰ä¸€ç›´æœ‰å¬åˆ°è¯´æˆ‘ä»¬è¿™ä¸€ä»£æ¯”è¾ƒè‡ªæˆ‘ï¼Œä¸å¥åº·çš„è‡ªæˆ‘ã€‚å¯æ˜¯åœ¨æ„å°Šé‡è‡ªå·±çš„æ„Ÿå—çœŸçš„æ˜¯ä¸€ç§é”™è¯¯å—ï¼Ÿ</p><p>å½“æˆ‘åœ¨å­¦ä¹ çˆ±è‡ªå·±çš„é“è·¯ä¸Šè¶Šå¾€å‰èµ°ï¼Œæˆ‘è¶Šèƒ½æ·±åˆ»ç†è§£çˆ±çš„å››è¦ç´ ï¼š</p><ul><li><strong>äº†è§£</strong></li><li><strong>å°Šé‡</strong></li><li><strong>å…³å¿ƒ</strong></li><li><strong>è´£ä»»</strong></li></ul><p>éƒ½åŒç­‰é‡è¦å¹¶ç›¸è¾…ç›¸æˆã€‚</p><p>å¦‚æœä¸èƒ½å°Šé‡è‡ªå·±çš„æ„Ÿå—ï¼Œåˆ™ä¼šäº§ç”Ÿå¯¹è‡ªå·±çš„å¦å®šå’Œå‹æŠ‘ï¼Œè€Œè¢«å‹æŠ‘çš„æ„Ÿå—åˆ™ä¼šè¿›å…¥æ½œæ„è¯†æ·±å±‚éš¾ä»¥æ ¹é™¤ã€‚</p><p>ä½†æ˜¯åæ¥æˆ‘çªç„¶æ˜ç™½ï¼Œé‚£äº›åŠ¨æœºæ˜¯è¦æ±‚åˆ«äººè¿èƒŒè‡ªå·±æ„Ÿå—ä»¥æ»¡è¶³è‡ªå·±éœ€æ±‚ï¼Œæˆ–æ˜¯åªæƒ³å‘¨å›´éƒ½å›´ç€è‡ªå·±è½¬çš„äººï¼Œæ‰æ˜¯ä¸å¥åº·çš„è‡ªæˆ‘ï¼Œæˆ–æ˜¯è¯´æˆ‘æ‰§ã€‚</p><p>å¥åº·çš„è‡ªæˆ‘éœ€è¦ä¿®ç‚¼å¹³ç­‰å¿ƒï¼Œå¦‚æœå†…å¿ƒæœ‰è¿‡å¤šçš„è´ªçˆ±ï¼Œå¿…ç„¶ä¼šæœ‰è¿‡å¤šçš„å—”æ¨ï¼Œä¾¿ä¼šå¸¦æ¥æˆ‘æ‰§çš„ç—›è‹¦ã€‚</p><p>è€Œåªæœ‰å¥åº·çš„è‡ªæˆ‘æˆ–æ˜¯æ¶ˆèçš„è‡ªæˆ‘ï¼Œæ‰æ›´æœ‰å¯èƒ½å‘å±•å‡ºåˆ›é€ æ€§å€¾å‘çš„èƒ½åŠ›ã€‚</p><hr><h2 id="å…³äºå˜åŒ–"><a href="#å…³äºå˜åŒ–" class="headerlink" title="å…³äºå˜åŒ–"></a>å…³äºå˜åŒ–</h2><p>æ­¤å¤„å¼•ç”¨ä»Šå¹´é˜…è¯»ã€ŠèŠ’æ ¼ä¹‹é“ã€‹æ—¶ç›´æ¥åˆ»åœ¨æˆ‘å¿ƒåº•çš„ä¸€å¥è¯â€”â€”</p><p><strong>â€œå˜åŒ–æ€»åœ¨å‘ç”Ÿï¼Œä¸å»ä¸»åŠ¨è¿æ¥è¿›æ­¥çš„å˜åŒ–ï¼Œå°±ä¼šç­‰åˆ°é€€æ­¥çš„å˜åŒ–ã€‚â€</strong></p><p>æ— å¸¸ï¼Œæ— å¸¸ï¼Œæ— å¸¸ï¼Œæ—¢ç„¶ä¸ç¡®å®šæ€§æ˜¯å¸¸æ€ï¼Œé‚£å°±ä¸ä¸ç¡®å®šæ€§å…±èˆï¼Œç»§ç»­å¾€å‰èµ°èµ°~</p><hr><p>åŸ¹å…»è§‰çŸ¥ï¼Œç»ƒä¹ æ„Ÿæ©<br>æŒç»­ç²¾è¿›ï¼Œåšå®šå†³å¿ƒï¼</p><p><img src="/images/2024/vipassana.jpg"></p>]]></content>
      
      
      
        <tags>
            
            <tag> Flow </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>25 Today, Halfway to 50 ğŸ¤­</title>
      <link href="/2024/01/15/happy-birthday/"/>
      <url>/2024/01/15/happy-birthday/</url>
      
        <content type="html"><![CDATA[<p><img src="/images/2024/happy_birthday.jpg"></p>]]></content>
      
      
      
        <tags>
            
            <tag> Flow </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>A Dialogue with Myself</title>
      <link href="/2023/12/31/2023/"/>
      <url>/2023/12/31/2023/</url>
      
        <content type="html"><![CDATA[<div align="center"><p><strong>2023 å¹´çš„æ¯ä¸€ä¸ªæœˆã€æ¯ä¸€å‘¨éƒ½æœ‰ä¸€ç‚¹ç‚¹ä¸ä¸€æ ·</strong><br>æŸä¸€å¤©ï¼Œæˆ‘åšäº†ä¸€ä¸ªå°å°çš„æ”¹å˜ï¼Œä»é‚£ä¹‹åï¼Œ<strong>æ¯ä¸€å¤©</strong>ä¹Ÿéšä¹‹ç„•ç„¶ä¸€æ–°<br>å› ä¸ºåœ¨å–œæ¬¢æˆ‘çš„äººé‡Œï¼Œå¤šäº†ä¸€ä½å¾ˆé‡è¦çš„äºº â€”â€” <strong>æˆ‘è‡ªå·±</strong></p><p><em>Just a little change can make all the difference.</em></p><hr><p>å½“æˆ‘å†³å®šå–œæ¬¢æˆ‘è‡ªå·±<br>æˆ‘å¼€å§‹è®°å½•ä¸‹æˆ‘æ¯å¤©åšå¾—ä¸é”™çš„åœ°æ–¹<br>ä»¥åŠé‚£äº›è®©æˆ‘å¼€å¿ƒçš„äº‹æƒ…</p><p>æŸä¸€å¤©ï¼Œåœ¨æ—¥å¸¸è®°å½•ä¸­ï¼Œæˆ‘æç„¶å¤§æ‚Ÿ â€”â€”<br>å™¢ï¼ŒåŸæ¥è¿™å°±æ˜¯ <strong>ã€Œå…·ä½“ã€</strong></p><hr><p>å½“å†…è€—ä¸æ¨¡ç³Šæ¸æ¸æ¶ˆæ•£<br>å½“æˆ‘å¼€å§‹æ‹¥æŠ±æ‰€æœ‰çš„æ„Ÿå—<br>å½“æˆ‘çš„çŠ¶æ€å˜å¾—è¶Šæ¥è¶Šå¥½æ—¶<br>æŸä¸€å¤©ï¼Œæˆ‘çªç„¶æ˜ç™½äº†ã€Šå½“æˆ‘å¼€å§‹çœŸæ­£çˆ±è‡ªå·±ã€‹è¿™é¦–è¯—ä¸­<br>â€œ<strong>ã€ŒçœŸæ­£ã€</strong>â€è¿™ä¸€è¯çš„å«ä¹‰</p><p>é‚£ä¸€åˆ»ï¼Œæˆ‘çŸ¥é“è‡ªå·±ä¹ŸçœŸæ­£<br>ä¹ å¾—äº†å–œæ¬¢ä¸çˆ±çš„èƒ½åŠ›<br>å½“ç„¶ç°åœ¨è¿˜ä¸å¤Ÿæœ‰åŠ›<br>ä»åœ¨ç§¯è“„åŠ›é‡ä¸­~</p><hr><h3 id="âœ¨-My-Vision-for-2024"><a href="#âœ¨-My-Vision-for-2024" class="headerlink" title="âœ¨ My Vision for 2024"></a>âœ¨ My Vision for 2024</h3><p><strong>ç»§ç»­è·µè¡Œé•¿æœŸä¸»ä¹‰</strong><br><strong>æ¯è¿‡å®Œä¸€å¤©ï¼Œè¦åŠªåŠ›æ¯”æ—©ä¸Šé†’æ¥æ—¶æ›´èªæ˜ä¸€ç‚¹ç‚¹</strong><br><strong>åŸ¹å…»ç†æ€§ Â· ä¿æŒå¥½å¥‡ Â· çæƒœæ—¥å¸¸</strong> ğŸŒ»</p><img src="/images/2023/hello_2024.jpg" width="85%" alt="hello, 2024"></div>]]></content>
      
      
      
        <tags>
            
            <tag> Flow </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Fortunate to Cross Paths</title>
      <link href="/2023/12/17/fortunate_to_cross_paths/"/>
      <url>/2023/12/17/fortunate_to_cross_paths/</url>
      
        <content type="html"><![CDATA[<div align="center"><p>åŸæ¥æ¯æ®µç›¸é‡éƒ½æœ‰ä¸€ä»½æ©æƒ…<br>å›æœ›ä»Šå¹´èµ°è¿‡çš„è·¯ï¼Œå¾’è¿‡çš„æ­¥<br>ä¸çŸ¥ä¸è§‰å¤§å®¶å·²ç»è®¤è¯†è¿™ä¹ˆä¹…äº†<br>æ„Ÿè°¢ç›¸é‡ï¼Œæ„Ÿè°¢ä¸€è·¯åŒè¡Œ ğŸ”†</p></div><img src="/images/2023/companions.jpg" width="85%" alt="companions">]]></content>
      
      
      
        <tags>
            
            <tag> Flow </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>äºäººæ¥äººå¾€ä¸­ï¼Œä¸æƒ§ç¦»ç´¢</title>
      <link href="/2022/12/31/2022/"/>
      <url>/2022/12/31/2022/</url>
      
        <content type="html"><![CDATA[<p>ç”Ÿå‘½æ˜¯ä¸€ä¸ªæ·¡æ·¡çš„æ‚²ä¼¤çš„è¿‡ç¨‹ï¼Œæˆ‘ä»¬è¦ä¸æ–­åœ°å’Œè¿‡å»å‘Šåˆ«ï¼Œå’Œå¾ˆå¤šäº‹ç‰©å‘Šåˆ«</p><p>æ—¢ç„¶ç°å®å°±æ˜¯ä¸ºäº†åˆ†åˆ«è€Œç›¸é‡ï¼Œé‚£å¸Œæœ›åœ¨ä»Šåçš„æ—¥å­é‡Œï¼Œèƒ½å¤Ÿå‹‡æ•¢å»çˆ±ï¼Œåœ¨æ‰€æœ‰çš„ç›¸é‡ä¸­ä¸æ–­æœç€ï¼‚æœ€ä½³åˆ†åˆ«ï¼‚è€ŒåŠªåŠ›ï¼Œç›´åˆ°ç”Ÿå‘½çš„æœ€åä¸€å¤©</p><p>ä¹Ÿå¸Œæœ›æœªæ¥çš„è‡ªå·±ï¼Œå†…å¿ƒèƒ½å¦‚æ°´ä¸€èˆ¬ï¼Œå˜å¾—æ›´æŸ”è½¯ã€æ›´åŒ…å®¹ã€æ›´å¹³é™~</p>]]></content>
      
      
      
        <tags>
            
            <tag> Flow </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
